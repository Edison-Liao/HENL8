/** layuiAdmin.std-v1.0.0 LPPL License By http://www.layui.com/admin/ */
 ;"use strict";layui.config({base:"../../../layuiadmin/"}).extend({index:"lib/index"}).use(["index","table","form","consts","common"],function(){var e=layui.$,t=layui.table,a=layui.form,i=layui.common,n=(layui.laypage,{baseUrl:layui.setter.revenueUrl}),o=(t.render({elem:"#LAY-yongqileixingTable",id:"LAY-yongqileixingTable",url:layui.setter.revenueUrl+"/api/UsergasType/query/list",where:{"Data.Name":"",Method:"list"},parseData:layui.setter.parseData,request:layui.setter.request,page:!0,cols:[[{field:"Name",title:"用气类型名称",templet:function(e){return e.Name}},{field:"Description",title:"描述",templet:function(e){return e.Description}},{field:"SortNum",title:"排序号",templet:function(e){return e.SortNum}},{field:"CreateDate",title:"创建时间",templet:function(e){return"<div>"+layui.util.toDateString(e.CreateDate)+"</div>"}},{field:"ModifyDate",title:"修改时间",templet:function(e){return"<div>"+layui.util.toDateString(e.ModifyDate)+"</div>"}},{title:"操作",fixed:"right",align:"center",toolbar:"#LAY-yongqileixingTable-barOperation"}]],loading:!0,limit:10,text:"对不起，加载出现异常！"}),{add:function(a){layer.closeAll();var o=layui.consts.basePostData();o.Data=a,o.Data.CompanyCoding="88888888",o.Data.CompanyName="88888888",o.Method="insert",console.log(a);var l=JSON.stringify(o);i.ajaxFun("post","/api/UsergasType/insert",l,n).then(function(a){i.appResult.isSucceeded(a)?(t.reload("LAY-yongqileixingTable"),e("#lock-from").find("input[type=text],select,input[type=hidden]").each(function(){e(this).val("")}),layer.msg("数据添加成功!",{icon:6})):i.appResult.loadErrorText(a)}).fail(function(e){console.log(e)})},"delete":function(e){layer.closeAll(),layer.load(0,{shade:!1});var a=layui.consts.basePostData();a.Data={},a.Data.Id=e.Id,a.Data.CompanyId=e.CompanyId,a.Method="remove";var o=JSON.stringify(a);i.ajaxFun("delete","/api/UsergasType/remove",o,n).then(function(e){i.appResult.isSucceeded(e)?(t.reload("LAY-yongqileixingTable"),layer.msg("数据删除成功!",{icon:6})):i.appResult.loadErrorText(e)}).fail(function(e){console.log(e)})},edit:function(o){var l=layui.consts.basePostData();l.Data={},l.Data.Id=o.Id,i.ajaxFun("get","/api/UsergasType/query/key?Data.Id="+o.Id+"&Method=key","",n).then(function(o){if(i.appResult.isSucceeded(o)){var o=o.Result;layer.open({type:1,title:"修改用气类型",content:e("#lock-from"),maxmin:!0,area:["500px","300px"],btn:["确定","取消"],yes:function(l,r){var s=e("#LAY-yongqileixi-add-submit");a.on("submit(LAY-yongqileixi-add-submit)",function(a){var l=a.field,r=layui.consts.basePostData();r.Data=l,r.Data.Id=o.Id,r.Data.CompanyName=o.CompanyName,r.Data.CompanyCoding=o.CompanyCoding,r.Method="update";var s=JSON.stringify(r);console.info("data",s),i.ajaxFun("put","/api/UsergasType/update",s,n).then(function(a){i.appResult.isSucceeded(a)?(t.reload("LAY-yongqileixingTable"),e("#lock-from").find("input[type=text],select,input[type=hidden]").each(function(){e(this).val("")}),layer.msg("数据更新成功!",{icon:6})):i.appResult.loadErrorText(a)}).fail(function(e){console.log(e)})}),layer.close(l),s.trigger("click")}}),console.info(o),a.val("lock-from",{Coding:o.Coding,Name:o.Name,SortNum:o.SortNum,Description:o.Description})}else i.appResult.loadErrorText(o)}).fail(function(e){console.log(e)})}}),l={batchdel:function(){var e=t.checkStatus("LAY-user-manage"),a=e.data;return 0===a.length?layer.msg("请选择数据"):(layer.close(index),void layer.confirm("确定删除吗？",function(e){t.reload("LAY-user-manage"),layer.msg("已删除")}))},add:function(){layer.open({type:1,title:"添加用气类型",content:e("#lock-from"),maxmin:!0,area:["500px","300px"],btn:["确定","取消"],yes:function(t,l){var r=e("#LAY-yongqileixi-add-submit");a.on("submit(LAY-yongqileixi-add-submit)",function(e){var t=e.field;i.ajaxFun("get","/api/Common/GetInsertGuid","",n).then(function(e){i.appResult.isSucceeded(e)?(t.Idd=e.Result,o.add(t)):i.appResult.loadErrorText(e)}).fail(function(e){console.log(e)})}),r.trigger("click")}})}};e(".layui-btn.layuiadmin-btn-useradmin").on("click",function(){var t=e(this).data("type");l[t]?l[t].call(this):""}),t.on("tool()",function(e){var t=e.data,a=e.event;e.tr;"detail"===a?(console.info("do detail"),o.detail(t)):"del"===a?layer.confirm("真的删除行么",function(e){console.info(t),o["delete"](t),layer.close(e)}):"edit"===a&&(console.info(t),o.edit(t))})});
//# sourceMappingURL=../src/maps/xitongguanli/yongqileixing.js.map
