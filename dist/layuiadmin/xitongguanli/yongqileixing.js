/** layuiAdmin.std-v1.0.0 LPPL License By http://www.layui.com/admin/ */
 ;"use strict";layui.config({base:"../../../layuiadmin/"}).extend({index:"lib/index"}).use(["index","table","form","consts","common"],function(){var e=layui.$,t=layui.table,a=layui.form,i=layui.common,n=(layui.laypage,t.render({elem:"#LAY-yongqileixingTable",id:"LAY-yongqileixingTable",url:layui.setter.baseUrl+"/api/UsergasType/query/list",where:{CompanyCoding:"88888888",Method:"list"},parseData:layui.setter.parseData,request:{tokenName:!1,pageName:"PageIndex",limitName:"PageSize"},page:!0,cols:[[{field:"Name",title:"用气类型名称",templet:function(e){return e.Name}},{field:"Description",title:"描述",templet:function(e){return e.Description}},{field:"SortNum",title:"排序号",templet:function(e){return e.Description}},{field:"CreateDate",title:"创建时间",templet:function(e){return"<div>"+layui.util.toDateString(e.CreateDate)+"</div>"}},{field:"ModifyDate",title:"修改时间",templet:function(e){return"<div>"+layui.util.toDateString(e.ModifyDate)+"</div>"}},{title:"操作",fixed:"right",align:"center",toolbar:"#LAY-yongqileixingTable-barOperation"}]],loading:!0,limit:10,text:"对不起，加载出现异常！"}),{add:function(a){layer.closeAll();var n=layui.consts.basePostData();n.Data=a,n.Data.CompanyCoding="88888888",n.Data.CompanyName="88888888",n.Method="insert",console.log(a);var o=JSON.stringify(n);i.ajaxFun("post","/api/UsergasType/insert",o).then(function(a){i.appResult.isSucceeded(a)?(t.reload("LAY-yongqileixingTable"),e("#lock-from").find("input[type=text],select,input[type=hidden]").each(function(){e(this).val("")}),layer.msg("数据添加成功!",{icon:6})):i.appResult.loadErrorText(a)}).fail(function(e){console.log(e)})},"delete":function(e){layer.closeAll(),layer.load(0,{shade:!1});var a=layui.consts.basePostData();a.Data=e.Id,a.Method="remove";var n=JSON.stringify(a);i.ajaxFun("delete","/api/UsergasType/remove",n).then(function(e){i.appResult.isSucceeded(e)?(t.reload("LAY-yongqileixingTable"),layer.msg("数据删除成功!",{icon:6})):i.appResult.loadErrorText(e)}).fail(function(e){console.log(e)})},edit:function(n){layui.consts.basePostData();i.ajaxFun("get","/api/UsergasType/query/"+n.Id).then(function(n){if(i.appResult.isSucceeded(n)){var n=n.Result;layer.open({type:1,title:"修改用气类型",content:e("#lock-from"),maxmin:!0,area:["500px","300px"],btn:["确定","取消"],yes:function(o,l){var r=e("#LAY-yongqileixi-add-submit");a.on("submit(LAY-yongqileixi-add-submit)",function(a){var o=a.field,l=layui.consts.basePostData();l.Data=o,l.Data.Id=n.Id,l.Data.CompanyName=n.CompanyName,l.Data.CompanyCoding=n.CompanyCoding,l.Method="update";var r=JSON.stringify(l);console.info("data",r),i.ajaxFun("put","/api/UsergasType/update",r).then(function(a){i.appResult.isSucceeded(a)?(t.reload("LAY-yongqileixingTable"),e("#lock-from").find("input[type=text],select,input[type=hidden]").each(function(){e(this).val("")}),layer.msg("数据更新成功!",{icon:6})):i.appResult.loadErrorText(a)}).fail(function(e){console.log(e)})}),layer.close(o),r.trigger("click")}}),console.info(n),a.val("lock-from",{Coding:n.Coding,Name:n.Name,SortNum:n.SortNum,Description:n.Description})}else i.appResult.loadErrorText(n)}).fail(function(e){console.log(e)})}}),o={batchdel:function(){var e=t.checkStatus("LAY-user-manage"),a=e.data;return 0===a.length?layer.msg("请选择数据"):(layer.close(index),void layer.confirm("确定删除吗？",function(e){t.reload("LAY-user-manage"),layer.msg("已删除")}))},add:function(){layer.open({type:1,title:"添加用气类型",content:e("#lock-from"),maxmin:!0,area:["500px","300px"],btn:["确定","取消"],yes:function(t,o){var l=e("#LAY-yongqileixi-add-submit");a.on("submit(LAY-yongqileixi-add-submit)",function(e){var t=e.field;i.ajaxFun("get","/api/Common/GetInsertGuid").then(function(e){i.appResult.isSucceeded(e)?(t.Idd=e.Result,n.add(t)):i.appResult.loadErrorText(e)}).fail(function(e){console.log(e)})}),l.trigger("click")}})}};e(".layui-btn.layuiadmin-btn-useradmin").on("click",function(){var t=e(this).data("type");o[t]?o[t].call(this):""}),t.on("tool()",function(e){var t=e.data,a=e.event;e.tr;"detail"===a?(console.info("do detail"),n.detail(t)):"del"===a?layer.confirm("真的删除行么",function(e){console.info(t),n["delete"](t),layer.close(e)}):"edit"===a&&(console.info(t),n.edit(t))})});
//# sourceMappingURL=../src/maps/xitongguanli/yongqileixing.js.map
