{"version":3,"sources":["usermanage/usermanage.js"],"names":["layui","config","base","extend","index","use","$","form","table","layer","on","data","field","console","log","reload","where","render","elem","url","setter","huibleUrl","parseData","request","cols","title","minWidth","templet","d","DeviceType","IsActived","util","toDateString","CreateDate","width","align","fixed","toolbar","loading","page","limit","text","obj","event","msg","confirm","icon","userSeverEvent","unActive","active","import","export","type","this","call"],"mappings":";EAAA,YAAAA,OACGC,QACCC,KAAM,yBAEPC,QACCC,MAAO,cAERC,KAAK,QAAS,QAAS,SAAU,WAChC,GAAIC,GAAIN,MAAMM,EACZC,EAAOP,MAAMO,KACbC,EAAQR,MAAMQ,KAChBC,OAAQT,MAAMS,MAEdF,EAAKG,GAAG,2BAA4B,SAASC,GAC3C,GAAIC,GAAQD,EAAKC,KACjBC,SAAQC,IAAIH,EAAM,MAElBH,EAAMO,OAAO,kBACXC,MAAOJ,KAKUJ,GAAMS,QACzBC,KAAM,kBACNC,IAAKnB,MAAMoB,OAAOC,UAAY,8BAC9BC,UAAWtB,MAAMoB,OAAOE,UACxBC,QAASvB,MAAMoB,OAAOG,QACtBC,QAGMZ,MAAO,MAEPa,MAAO,SAEPb,MAAO,WAAYa,MAAO,OAAQC,SAAU,MAE5Cd,MAAO,aACPa,MAAO,OACPE,QAAS,SAASC,GAChB,MAAqB,SAAjBA,EAAEC,WACG,oDAEA,uDAKXjB,MAAO,YACPa,MAAO,SACPE,QAAS,SAASC,GAChB,MAAmB,IAAfA,EAAEE,UACG,qDAEA,wEAKXlB,MAAO,aACPa,MAAO,SACPE,QAAS,SAASC,GAChB,MAAO,QAAU5B,MAAM+B,KAAKC,aAAaJ,EAAEK,YAAc,YAI3DR,MAAO,KACPS,MAAO,IACPC,MAAO,SACPC,MAAO,QACPC,QAAS,sBAIfC,SAAS,EACTC,MAAM,EACNC,MAAO,GACPC,KAAM,eAIRjC,GAAME,GAAG,wBAAyB,SAASgC,GACzC,GAAI/B,GAAO+B,EAAI/B,IACf,IAAkB,aAAd+B,EAAIC,MAAsB,CAC5B,GAAIC,GAAMjC,EAAKmB,UACX,eACA,YACJrB,OAAMoC,QAAQD,GAAOE,KAAM,EAAGrB,MAAO,MAAQ,SAASrB,GACpD2C,eAAeC,SAASrC,OAO9B,IAAIsC,IACFC,SAAQ,WACNrC,QAAQC,IAAI,SAEdqC,SAAQ,WACNtC,QAAQC,IAAI,SAKhBR,GAAE,cAAcI,GAAG,QAAS,WAC1B,GAAI0C,GAAO9C,EAAE+C,MAAM1C,KAAK,OACxBsC,GAAOG,GAAQH,EAAOG,GAAME,KAAKD,MAAQ","file":"../../../usermanage/usermanage.js","sourcesContent":["layui\r\n  .config({\r\n    base: \"../../../layuiadmin/\" //静态资源所在路径\r\n  })\r\n  .extend({\r\n    index: \"lib/index\" //主入口模块\r\n  })\r\n  .use([\"index\", \"table\", \"layer\"], function() {\r\n    var $ = layui.$,\r\n      form = layui.form,\r\n      table = layui.table;\r\n    layer = layui.layer;\r\n    //监听搜索\r\n    form.on(\"submit(IccRegist-search)\", function(data) {\r\n      var field = data.field;\r\n      console.log(data, \"数据\");\r\n      //执行重载\r\n      table.reload(\"iccRegistTable\", {\r\n        where: field\r\n      });\r\n    });\r\n\r\n    //用户管理表格渲染\r\n    var iccRegistTable = table.render({\r\n      elem: \"#iccRegistTable\",\r\n      url: layui.setter.huibleUrl + \"/api/IccWchat/regist/search\", //接口\r\n      parseData: layui.setter.parseData,\r\n      request: layui.setter.request,\r\n      cols: [\r\n        [\r\n          {\r\n            field: \"Mac\",\r\n            // width: 100,\r\n            title: \"Mac号\"\r\n          },\r\n          { field: \"DeviceId\", title: \"设备Id\", minWidth: 100 },\r\n          {\r\n            field: \"DeviceType\",\r\n            title: \"设备类型\",\r\n            templet: function(d) {\r\n              if (d.DeviceType === \"blue\") {\r\n                return '<span class=\"layui-badge layui-bg-blue\">蓝牙</span>';\r\n              } else {\r\n                return '<span class=\"layui-badge layui-bg-gray\">蓝牙</span>';\r\n              }\r\n            }\r\n          },\r\n          {\r\n            field: \"IsActived\",\r\n            title: \"设备是否激活\",\r\n            templet: function(d) {\r\n              if (d.IsActived == true) {\r\n                return '<span class=\"layui-badge layui-bg-blue\">已激活</span>';\r\n              } else {\r\n                return '<span class=\"layui-badge layui-bg-gray layui-badge-rim\">未激活</span>';\r\n              }\r\n            }\r\n          },\r\n          {\r\n            field: \"CreateDate\",\r\n            title: \"设备创建时间\",\r\n            templet: function(d) {\r\n              return \"<div>\" + layui.util.toDateString(d.CreateDate) + \"</div>\";\r\n            }\r\n          },\r\n          {\r\n            title: \"操作\",\r\n            width: 150,\r\n            align: \"center\",\r\n            fixed: \"right\",\r\n            toolbar: \"#table-IccRegist\"\r\n          }\r\n        ]\r\n      ],\r\n      loading: true,\r\n      page: true,\r\n      limit: 10,\r\n      text: \"对不起，加载出现异常！\"\r\n    });\r\n\r\n    //监听工具条\r\n    table.on(\"tool(table-IccRegist)\", function(obj) {\r\n      var data = obj.data;\r\n      if (obj.event === \"unActive\") {\r\n        var msg = data.IsActived\r\n          ? \"确认要取消激活该设备吗?\"\r\n          : \"确认要激活该设备吗?\";\r\n        layer.confirm(msg, { icon: 3, title: \"提示\" }, function(index) {\r\n          userSeverEvent.unActive(data);\r\n        });\r\n      }\r\n    });\r\n    //服务交互\r\n\r\n    //事件\r\n    var active = {\r\n      import: function() {\r\n        console.log(\"模板导入\");\r\n      },\r\n      export: function() {\r\n        console.log(\"导出数据\");\r\n      }\r\n    };\r\n\r\n    //按钮操作\r\n    $(\".layui-btn\").on(\"click\", function() {\r\n      var type = $(this).data(\"type\");\r\n      active[type] ? active[type].call(this) : \"\";\r\n    });\r\n  });\r\n"]}