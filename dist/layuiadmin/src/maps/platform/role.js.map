{"version":3,"sources":["platform/role.js"],"names":["layui","config","base","extend","index","use","$","form","layer","table","common","tree","on","data","console","log","field","topName","organ","baseData","editFalge","server","eidtOrgan","addOrgan","init","this","getTreeData","render","showtips","event","treeNode","id","nodeData","click","html","showForm","val","name","moveNodeData","openDeleteConfirm","ajaxFun","then","appResult","isSucceeded","currData","length","i","Title","children","Children","Result","TreeNodes","renderTree","loadErrorText","fail","err","getNodedata","flage","urlID","dataNode","Name","Code","Message","url","dataBean","consts","basePostData","ParentId","Data","str1","JSON","stringify","msg","icon","Id","isRise","Flag","delet","closeAll","alert","treeObj","z_treeConfig","callback","onClick","treeOnClick","renderTitle","flag","addClass","show","removeClass","renderFormData","disabledBtton","isDisableButton","confirm","btn","getTreeNodeName","treeData","title","viewshowIcon","treeId","e","node","PidNode","getNodeByTId","parentTId"],"mappings":"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","file":"../../../platform/role.js","sourcesContent":["layui\r\n  .config({\r\n    base: \"../../../layuiadmin/\"\r\n  })\r\n  .extend({\r\n    index: \"lib/index\" //主入口模块\r\n  })\r\n  .use(\r\n    [\"index\", \"table\", \"layer\", \"tree\", \"common\", \"consts\", \"z_treeConfig\"],\r\n    function() {\r\n      var $ = layui.$,\r\n        form = layui.form,\r\n        table = layui.table,\r\n        layer = layui.layer,\r\n        tree = layui.tree,\r\n        common = layui.common;\r\n\r\n      //数据表单监听(部门)\r\n      form.on(\"submit(DepartmentFrom)\", function(data) {\r\n        console.log(data.field, \"新增部门\");\r\n        delete data.field.topName;\r\n        if (organ.baseData.editFalge) {\r\n          console.log(\"执行编辑命令\");\r\n          organ.server.eidtOrgan(data.field, \"/api/Role\", \"department\");\r\n        } else {\r\n          organ.server.addOrgan(data.field, \"/api/Role\", \"department\");\r\n          console.log(\"执行添加命令\");\r\n        }\r\n        return false;\r\n      });\r\n      //数据表单监听(角色)\r\n      form.on(\"submit(staffFrom)\", function(data) {\r\n        delete data.field.topName;\r\n        if (organ.baseData.editFalge) {\r\n          organ.server.eidtOrgan(data.field, \"/api/Role\", \"staff\");\r\n        } else {\r\n          organ.server.addOrgan(data.field, \"/api/Role\", \"staff\");\r\n        }\r\n        return false;\r\n      });\r\n      //organ\r\n      var organ = {\r\n        init: function() {\r\n          this.server.getTreeData();\r\n          this.render.showtips();\r\n          this.event();\r\n        },\r\n        baseData: {\r\n          treeNode: {},\r\n          id: \"\",\r\n          nodeData: {},\r\n          editFalge: false\r\n        },\r\n        event: function() {\r\n          $(\"#refresh\").click(function() {\r\n            $(\"#treeOrgan\").html(\"\");\r\n            organ.server.getTreeData();\r\n            organ.baseData.editFalge = false;\r\n          });\r\n          $(\"#showDepartment\").click(function() {\r\n            $(\"#formTitle\").html(\"新增角色分组信息\");\r\n            $(\".submit\").html(\"立即提交\");\r\n            organ.render.showForm(\"#DepartmentFrom\");\r\n            form.val(\"DepartmentFrom\", {\r\n              topName: organ.baseData.treeNode.name\r\n            });\r\n            organ.baseData.editFalge = false;\r\n          });\r\n          $(\"#showStaff\").click(function() {\r\n            $(\"#formTitle\").html(\"新增角色信息\");\r\n            $(\".submit\").html(\"立即提交\");\r\n            organ.render.showForm(\"#staffFrom\");\r\n            form.val(\"staffFrom\", {\r\n              topName: organ.baseData.treeNode.name\r\n            });\r\n            organ.baseData.editFalge = false;\r\n          });\r\n          $(\"#lower\").click(function() {\r\n            organ.server.moveNodeData(organ.baseData.treeNode, false);\r\n            organ.baseData.editFalge = false;\r\n          });\r\n          $(\"#upper\").click(function() {\r\n            organ.server.moveNodeData(organ.baseData.treeNode, true);\r\n            organ.baseData.editFalge = false;\r\n          });\r\n          $(\"#delet\").click(function() {\r\n            organ.render.openDeleteConfirm(organ.baseData.treeNode);\r\n          });\r\n        },\r\n        server: {\r\n          getTreeData: function() {\r\n            common\r\n              .ajaxFun(\"get\", \"/api/Role/treeview\")\r\n              .then(function(data) {\r\n                if (common.appResult.isSucceeded(data)) {\r\n                  //渲染树\r\n                  var nodeData = data.Result.TreeNodes;\r\n                  function currData(data) {\r\n                    if (data.length > 0) {\r\n                      for (var i = 0; i < data.length; i++) {\r\n                        data[i].name = data[i].Title;\r\n                        data[i].children = data[i].Children;\r\n                        if (data[i].Children.length > 0) {\r\n                          currData(data[i].Children);\r\n                        }\r\n                      }\r\n                    }\r\n                    return data;\r\n                  }\r\n                  var nodeData1 = currData(nodeData);\r\n                  organ.render.renderTree(nodeData);\r\n                } else {\r\n                  common.appResult.loadErrorText(data);\r\n                }\r\n              })\r\n              .fail(err => {\r\n                console.log(err);\r\n              });\r\n            //\r\n          },\r\n          getNodedata: function(flage, id) {\r\n            var urlID = \"\";\r\n            if (flage === \"roleCatalog\") {\r\n              urlID = \"/api/Role/\" + id;\r\n              organ.render.showForm(\"#DepartmentFrom\");\r\n            } else if (flage === \"roleInfo\") {\r\n              urlID = \"/api/Role/\" + id;\r\n              organ.render.showForm(\"#staffFrom\");\r\n            } else {\r\n              return;\r\n            }\r\n            //\r\n            common\r\n              .ajaxFun(\"get\", urlID)\r\n              .then(function(data) {\r\n                if (common.appResult.isSucceeded(data)) {\r\n                  //渲染树\r\n                  organ.baseData.nodeData = data.Result;\r\n                  var dataNode = data.Result;\r\n                  if (flage === \"roleCatalog\") {\r\n                    form.val(\"DepartmentFrom\", {\r\n                      Name: dataNode.Name,\r\n                      Code: dataNode.Code,\r\n                      Message: dataNode.Message\r\n                    });\r\n                  } else if (flage === \"roleInfo\") {\r\n                    form.val(\"staffFrom\", {\r\n                      Name: dataNode.Name,\r\n                      Code: dataNode.Code,\r\n                      Message: dataNode.Message\r\n                    });\r\n                  }\r\n                } else {\r\n                  common.appResult.loadErrorText(data);\r\n                }\r\n              })\r\n              .fail(err => {\r\n                console.log(err);\r\n              });\r\n          },\r\n          addOrgan: function(data, url, flage) {\r\n            var dataBean = layui.consts.basePostData();\r\n            if (flage === \"staff\") {\r\n              data.ParentId = organ.baseData.id;\r\n            }\r\n            dataBean.Data = data;\r\n            console.log(data);\r\n            var str1 = JSON.stringify(dataBean);\r\n            //\r\n            common\r\n              .ajaxFun(\"post\", url, str1)\r\n              .then(function(data) {\r\n                if (common.appResult.isSucceeded(data)) {\r\n                  //渲染树\r\n                  $(\"#treeOrgan\").html(\"\");\r\n                  organ.server.getTreeData();\r\n                  layer.msg(\"添加成功!\", { icon: 6 });\r\n                } else {\r\n                  common.appResult.loadErrorText(data);\r\n                }\r\n              })\r\n              .fail(err => {\r\n                console.log(err);\r\n              });\r\n          },\r\n          eidtOrgan: function(data, url) {\r\n            var dataBean = layui.consts.basePostData();\r\n            data.Id = organ.baseData.id;\r\n            dataBean.Data = data;\r\n            var str1 = JSON.stringify(dataBean);\r\n            //\r\n            common\r\n              .ajaxFun(\"put\", url + \"/\" + organ.baseData.id, str1)\r\n              .then(function(data) {\r\n                if (common.appResult.isSucceeded(data)) {\r\n                  //渲染树\r\n                  $(\"#treeOrgan\").html(\"\");\r\n                  organ.server.getTreeData();\r\n                  layer.msg(\"修改成功!\", { icon: 6 });\r\n                } else {\r\n                  common.appResult.loadErrorText(data);\r\n                }\r\n              })\r\n              .fail(err => {\r\n                console.log(err);\r\n              });\r\n          },\r\n          moveNodeData: function(data, isRise) {\r\n            var urlID = \"\";\r\n            if (data.Flag === \"roleInfo\") {\r\n              urlID = \"/api/Role/\" + data.Id + \"/order/\" + isRise;\r\n            } else {\r\n              return;\r\n            }\r\n            //\r\n            common\r\n              .ajaxFun(\"put\", urlID)\r\n              .then(function(data) {\r\n                if (common.appResult.isSucceeded(data)) {\r\n                  //渲染树\r\n                  $(\"#treeOrgan\").html(\"\");\r\n                  organ.server.getTreeData();\r\n                  layer.msg(\"数据移动成功\", { icon: 1 });\r\n                } else {\r\n                  common.appResult.loadErrorText(data);\r\n                }\r\n              })\r\n              .fail(err => {\r\n                console.log(err);\r\n              });\r\n          },\r\n          delet: function(flage, id) {\r\n            var urlID = \"\";\r\n            if (flage === \"roleInfo\" || flage === \"roleCatalog\") {\r\n              urlID = \"/api/Role/\" + id;\r\n            } else {\r\n              layer.closeAll();\r\n              return;\r\n            }\r\n            //\r\n            common\r\n              .ajaxFun(\"DELETE\", urlID)\r\n              .then(function(data) {\r\n                if (common.appResult.isSucceeded(data)) {\r\n                  //渲染树\r\n                  $(\"#treeOrgan\").html(\"\");\r\n                  organ.server.getTreeData();\r\n                  layer.alert(\"删除成功\", {\r\n                    icon: 1\r\n                  });\r\n                } else {\r\n                  common.appResult.loadErrorText(data);\r\n                }\r\n              })\r\n              .fail(err => {\r\n                console.log(err);\r\n              });\r\n          }\r\n        },\r\n        render: {\r\n          renderTree: function(data) {\r\n            //树形渲染\r\n            organ.baseData.treeObj = layui.z_treeConfig.renderTree(\r\n              data,\r\n              \"treeOrgan\",\r\n              {\r\n                callback: {\r\n                  onClick: organ.currData.treeOnClick\r\n                }\r\n                // view: {\r\n                //   showIcon: organ.currData.viewshowIcon\r\n                // }\r\n              }\r\n            );\r\n          },\r\n          renderTitle: function(flag) {\r\n            if (flag === \"roleCatalog\") {\r\n              $(\"#formTitle\").html(\"编辑角色信息分组\");\r\n            } else if (flag === \"roleInfo\") {\r\n              $(\"#formTitle\").html(\"编辑角色信息\");\r\n            }\r\n          },\r\n          showForm: function(id) {\r\n            $(\"#DepartmentFrom\").addClass(\"layui-hide\");\r\n            $(\"#staffFrom\").addClass(\"layui-hide\");\r\n            $(id).show();\r\n            $(id).removeClass(\"layui-hide\");\r\n          },\r\n          renderFormData: function(data) {\r\n            if (data.Flag === \"roleCatalog\") {\r\n              form.val(\"DepartmentFrom\", {\r\n                Name: data.Title\r\n              });\r\n            }\r\n          },\r\n          disabledBtton: function(flage) {\r\n            common.isDisableButton(\"#lower\", false);\r\n            common.isDisableButton(\"#upper\", false);\r\n            common.isDisableButton(\"#delet\", false);\r\n            if (flage === \"roleCatalog\") {\r\n              common.isDisableButton(\"#lower\", true);\r\n              common.isDisableButton(\"#upper\", true);\r\n              common.isDisableButton(\"#showDepartment\", false);\r\n              common.isDisableButton(\"#showStaff\", false);\r\n            } else if (flage === \"roleInfo\") {\r\n              common.isDisableButton(\"#showDepartment\", true);\r\n              common.isDisableButton(\"#showStaff\", true);\r\n            }\r\n          },\r\n          showtips: function() {\r\n            common.showtips(\".layui-btn-group button\");\r\n          },\r\n          openDeleteConfirm: function(data) {\r\n            layer.confirm(\r\n              \"你确定要删除<span style='font-weight:bolder'>\" +\r\n                data.Title +\r\n                \"</span>的节点吗?\",\r\n              {\r\n                btn: [\"确定\", \"取消\"], //按钮\r\n                icon: 3\r\n              },\r\n              function() {\r\n                organ.server.delet(data.Flag, data.Id);\r\n              },\r\n              function() {\r\n                console.log(\"取消\");\r\n              }\r\n            );\r\n          }\r\n        },\r\n        currData: {\r\n          getTreeNodeName: function(treeData, id) {\r\n            var title = common.getTreeNodeName(treeData, id, \"name\");\r\n            $(\".topName\").val(title);\r\n            $(\".submit\").html(\"立即修改\");\r\n          },\r\n          viewshowIcon: function(treeId, treeNode) {\r\n            return treeNode.Flag !== \"roleInfo\";\r\n          },\r\n          treeOnClick: function(e, id, node) {\r\n            console.log(node);\r\n            organ.baseData.treeNode = node;\r\n            organ.baseData.id = node.Id;\r\n            organ.baseData.editFalge = true;\r\n            organ.render.renderTitle(node.Flag);\r\n            organ.server.getNodedata(node.Flag, node.Id);\r\n            organ.render.disabledBtton(node.Flag);\r\n            var PidNode = organ.baseData.treeObj.getNodeByTId(node.parentTId);\r\n            if (PidNode) {\r\n              $(\"body .topName\").val(PidNode.Title);\r\n              $(\".submit\").html(\"立即修改\");\r\n            }\r\n          }\r\n        }\r\n      };\r\n      organ.init();\r\n    }\r\n  );\r\n"]}