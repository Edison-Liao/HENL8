{"version":3,"sources":["platform/organ.js"],"names":["layui","config","base","extend","index","use","$","form","layer","laydate","tree","common","consts","render","elem","on","data","console","log","field","topName","organ","baseData","editFalge","server","eidtOrgan","addOrgan","obj","IsRegisterUser","Name","NormalizedName","Code","JobNumber","Gender","Birthdate","PositionId","IsStaffMainPosition","Description","CreateUser","Password","ConfirmPassword","ProviderKey","DisplayName","Email","PhoneNumber","Portrait","DescriptionIcc","Boolean","toString","checked","slideDown","attr","slideUp","init","this","getOrganTreeData","showtips","event","treeNode","id","nodeData","click","html","addClass","showForm","val","name","moveNodeData","openDeleteConfirm","ajax","type","url","setter","baseUrl","dataType","headers","Accept","Content-Type","success","closeAll","IsSucceed","Result","TreeNodes","nodeData1","currData","addIcon","renderTree","renderCompanyInfo","msg","icon","error","err","getNodedata","flage","urlID","load","dataNode","IsMainBody","dataDate","indexOf","substring","Errors","Message","dataBean","basePostData","ParentId","DepartmentId","Data","str1","JSON","stringify","Id","isRise","Flag","delet","alert","treeObj","z_treeConfig","callback","onClick","treeOnClick","renderTitle","flag","show","removeClass","Title","renderFormData","disabledBtton","isDisableButton","confirm","btn","getTreeNodeName","treeData","title","length","i","iconOpen","Children","e","node","PidNode","getNodeByTId","parentTId"],"mappings":"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","file":"../../../platform/organ.js","sourcesContent":["layui\r\n  .config({\r\n    base: \"../../../layuiadmin/\"\r\n  })\r\n  .extend({\r\n    index: \"lib/index\" //主入口模块\r\n  })\r\n  .use(\r\n    [\"index\", \"laydate\", \"layer\", \"tree\", \"common\", \"consts\", \"z_treeConfig\"],\r\n    function() {\r\n      var $ = layui.$,\r\n        form = layui.form,\r\n        layer = layui.layer,\r\n        tree = layui.tree,\r\n        laydate = layui.laydate,\r\n        common = layui.common,\r\n        consts = layui.consts;\r\n      laydate.render({\r\n        elem: \"#Birthdate\"\r\n        //value: \"1990-08-18\"\r\n      });\r\n\r\n      //数据表单监听(部门)\r\n      form.on(\"submit(DepartmentFrom)\", function(data) {\r\n        console.log(data.field, \"新增部门\");\r\n        delete data.field.topName;\r\n        if (organ.baseData.editFalge) {\r\n          console.log(\"执行编辑命令\");\r\n          organ.server.eidtOrgan(\r\n            data.field,\r\n            \"/api/Organ/department\",\r\n            \"department\"\r\n          );\r\n        } else {\r\n          organ.server.addOrgan(\r\n            data.field,\r\n            \"/api/Organ/department\",\r\n            \"department\"\r\n          );\r\n          console.log(\"执行添加命令\");\r\n        }\r\n        return false;\r\n      });\r\n      //数据表单监听(职位)\r\n      form.on(\"submit(PositionFrom)\", function(data) {\r\n        console.log(data.field, \"新增职位\");\r\n        delete data.field.topName;\r\n        if (organ.baseData.editFalge) {\r\n          console.log(\"执行编辑命令\");\r\n          organ.server.eidtOrgan(data.field, \"/api/Organ/position\", \"position\");\r\n        } else {\r\n          organ.server.addOrgan(data.field, \"/api/Organ/position\", \"position\");\r\n          console.log(\"执行添加命令\");\r\n        }\r\n        return false;\r\n      });\r\n      //数据表单监听(人员)\r\n      form.on(\"submit(staffFrom)\", function(data) {\r\n        delete data.field.topName;\r\n        console.log(data.field, \"提交的人员信息\");\r\n        var obj = {};\r\n        if (data.field.IsRegisterUser) {\r\n          obj.Name = data.field.Name;\r\n          obj.NormalizedName = data.field.Name;\r\n          obj.Code = data.field.Code;\r\n          obj.JobNumber = data.field.JobNumber;\r\n          obj.Gender = data.field.Gender;\r\n          obj.Birthdate = data.field.Birthdate;\r\n          obj.PositionId = data.field.PositionId;\r\n          obj.IsStaffMainPosition = data.field.IsStaffMainPosition;\r\n          obj.IsRegisterUser = data.field.IsRegisterUser;\r\n          obj.Description = data.field.Description;\r\n          obj.CreateUser = {\r\n            Password: data.field.Password,\r\n            ConfirmPassword: data.field.ConfirmPassword,\r\n            ProviderKey: data.field.ConfirmPassword,\r\n            DisplayName: data.field.DisplayName,\r\n            Email: data.field.Email,\r\n            PhoneNumber: data.field.Email,\r\n            Portrait: data.field.Portrait,\r\n            Description: data.field.DescriptionIcc\r\n          };\r\n        } else {\r\n          obj.Name = data.field.Name;\r\n          obj.NormalizedName = data.field.Name;\r\n          obj.Code = data.field.Code;\r\n          obj.JobNumber = data.field.JobNumber;\r\n          obj.Gender = data.field.Gender;\r\n          obj.Birthdate = data.field.Birthdate;\r\n          obj.PositionId = data.field.PositionId;\r\n          obj.IsStaffMainPosition = new Boolean(\r\n            data.field.IsStaffMainPosition\r\n          ).toString();\r\n          obj.IsRegisterUser = new Boolean(\r\n            data.field.IsRegisterUser\r\n          ).toString();\r\n          obj.Description = data.field.Description;\r\n          obj.CreateUser = {};\r\n        }\r\n        console.log(obj, \"获取到的数据\");\r\n        if (organ.baseData.editFalge) {\r\n          organ.server.eidtOrgan(obj, \"/api/Organ/staff\", \"staff\");\r\n        } else {\r\n          organ.server.addOrgan(obj, \"/api/Organ/staff\", \"staff\");\r\n        }\r\n        return false;\r\n      });\r\n      //数据switch监听(注册人员)\r\n      form.on(\"switch(IsRegisterUser)\", function(data) {\r\n        if (data.elem.checked) {\r\n          console.log(\"执行验证信息\");\r\n          $(\".iccUserBox\").slideDown();\r\n          $(\".iccUserBox input\").attr(\"lay-verify\", \"required\");\r\n        } else {\r\n          $(\".iccUserBox\").slideUp();\r\n          $(\".iccUserBox input\").attr(\"lay-verify\", \"\");\r\n        }\r\n      });\r\n      //\r\n      //organ\r\n      var organ = {\r\n        init: function() {\r\n          this.server.getOrganTreeData();\r\n          this.render.showtips();\r\n          this.event();\r\n        },\r\n        baseData: {\r\n          treeNode: {},\r\n          id: \"\",\r\n          nodeData: {},\r\n          editFalge: false\r\n        },\r\n        event: function() {\r\n          $(\"#refresh\").click(function() {\r\n            $(\"#treeOrgan\").html(\"\");\r\n            organ.server.getOrganTreeData();\r\n            $(\"#delet\")\r\n              .addClass(\"layui-btn-disabled\")\r\n              .attr(\"disabled\", \"true\");\r\n            organ.baseData.editFalge = false;\r\n          });\r\n          $(\"#showDepartment\").click(function() {\r\n            $(\"#formTitle\").html(\"新增部门信息\");\r\n            $(\".submit\").html(\"立即提交\");\r\n            organ.render.showForm(\"#DepartmentFrom\");\r\n            organ.baseData.editFalge = false;\r\n          });\r\n          $(\"#showPosition\").click(function() {\r\n            $(\"#formTitle\").html(\"新增职位信息\");\r\n            $(\".submit\").html(\"立即提交\");\r\n            organ.render.showForm(\"#PositionFrom\");\r\n            organ.baseData.editFalge = false;\r\n          });\r\n          $(\"#showStaff\").click(function() {\r\n            $(\"#formTitle\").html(\"新增员工信息\");\r\n            $(\".submit\").html(\"立即提交\");\r\n            organ.render.showForm(\"#staffFrom\");\r\n            organ.baseData.editFalge = false;\r\n          });\r\n          $(\"#showStaff\").click(function() {\r\n            $(\"#formTitle\").html(\"新增员工信息\");\r\n            $(\".submit\").html(\"立即提交\");\r\n            organ.render.showForm(\"#staffFrom\");\r\n            form.val(\"staffFrom\", {\r\n              topName: organ.baseData.treeNode.name\r\n            });\r\n            organ.baseData.editFalge = false;\r\n          });\r\n          $(\"#lower\").click(function() {\r\n            organ.server.moveNodeData(organ.baseData.treeNode, false);\r\n            organ.baseData.editFalge = false;\r\n          });\r\n          $(\"#upper\").click(function() {\r\n            organ.server.moveNodeData(organ.baseData.treeNode, true);\r\n            organ.baseData.editFalge = false;\r\n          });\r\n          $(\"#delet\").click(function() {\r\n            organ.render.openDeleteConfirm(organ.baseData.treeNode);\r\n          });\r\n        },\r\n        server: {\r\n          getOrganTreeData: function() {\r\n            $.ajax({\r\n              type: \"get\",\r\n              url: layui.setter.baseUrl + \"/api/Organ/treeview\",\r\n              dataType: \"json\",\r\n              headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\"\r\n              },\r\n              success: function(data) {\r\n                layer.closeAll(\"loading\");\r\n                console.log(data);\r\n                if (data.IsSucceed) {\r\n                  console.log(data.Result.TreeNodes);\r\n                  var nodeData = data.Result.TreeNodes;\r\n                  var nodeData1 = organ.currData.addIcon(nodeData);\r\n                  organ.render.renderTree(nodeData1);\r\n                  organ.render.renderCompanyInfo(nodeData1);\r\n                } else {\r\n                  layer.msg(\"获取数据失败\" + data, { icon: 5 });\r\n                }\r\n              },\r\n              error: function(err) {\r\n                layer.closeAll();\r\n                layer.msg(\"数据操作失败\", { icon: 5 });\r\n              }\r\n            });\r\n          },\r\n          getNodedata: function(flage, id) {\r\n            var urlID = \"\";\r\n            if (flage === \"department\") {\r\n              urlID = \"/api/Organ/department/\" + id;\r\n              organ.render.showForm(\"#DepartmentFrom\");\r\n            } else if (flage === \"position\") {\r\n              urlID = \"/api/Organ/position/\" + id;\r\n              organ.render.showForm(\"#PositionFrom\");\r\n            } else if (flage === \"staff\") {\r\n              urlID = \"/api/Organ/staff/\" + id;\r\n              organ.render.showForm(\"#staffFrom\");\r\n            } else {\r\n              organ.render.showForm(\"#organFrom\");\r\n              return;\r\n            }\r\n            layer.load(2);\r\n            $.ajax({\r\n              type: \"get\",\r\n              url: layui.setter.baseUrl + urlID,\r\n              dataType: \"json\",\r\n              headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\"\r\n              },\r\n              success: function(data) {\r\n                layer.closeAll();\r\n                console.log(data);\r\n                if (data.IsSucceed) {\r\n                  organ.baseData.nodeData = data.Result;\r\n                  var dataNode = data.Result;\r\n                  if (flage === \"department\") {\r\n                    form.val(\"DepartmentFrom\", {\r\n                      Name: dataNode.Name,\r\n                      NormalizedName: dataNode.NormalizedName,\r\n                      Code: dataNode.Code,\r\n                      IsMainBody: dataNode.IsMainBody,\r\n                      Description: data.Description\r\n                    });\r\n                  } else if (flage === \"position\") {\r\n                    form.val(\"PositionFrom\", {\r\n                      Name: dataNode.Name,\r\n                      NormalizedName: dataNode.NormalizedName,\r\n                      Code: dataNode.Code,\r\n                      IsMainBody: dataNode.IsMainBody,\r\n                      Description: data.Description\r\n                    });\r\n                  } else if (flage === \"staff\") {\r\n                    var dataDate = dataNode.Birthdate;\r\n                    if (dataNode.Birthdate.indexOf(\"T\") > -1) {\r\n                      dataDate = dataNode.Birthdate.substring(\r\n                        0,\r\n                        dataNode.Birthdate.indexOf(\"T\")\r\n                      );\r\n                    }\r\n                    form.val(\"staffFrom\", {\r\n                      Name: dataNode.Name,\r\n                      NormalizedName: dataNode.NormalizedName,\r\n                      JobNumber: dataNode.JobNumber,\r\n                      Birthdate: dataDate,\r\n                      Code: dataNode.Code,\r\n                      IsMainBody: dataNode.IsMainBody,\r\n                      Description: dataNode.Description\r\n                    });\r\n                  }\r\n                } else {\r\n                  layer.msg(\"获取节点数据失败! \" + data.Errors[0].Message, {\r\n                    icon: 5\r\n                  });\r\n                }\r\n              },\r\n              error: function(err) {\r\n                layer.closeAll();\r\n                layer.msg(\"数据操作失败\", { icon: 5 });\r\n              }\r\n            });\r\n          },\r\n          addOrgan: function(data, url, flage) {\r\n            var dataBean = layui.consts.basePostData(\"CreateStaff\");\r\n            if (flage === \"department\") {\r\n              data.ParentId = organ.baseData.id;\r\n            } else if (flage === \"position\") {\r\n              data.DepartmentId = organ.baseData.id;\r\n            } else if (flage === \"staff\") {\r\n              data.PositionId = organ.baseData.id;\r\n            }\r\n            dataBean.Data = data;\r\n            console.log(dataBean);\r\n            var str1 = JSON.stringify(dataBean);\r\n            layer.load();\r\n            $.ajax({\r\n              type: \"post\",\r\n              url: layui.setter.baseUrl + url,\r\n              data: str1,\r\n              dataType: \"json\",\r\n              headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\"\r\n              },\r\n              success: function(data) {\r\n                layer.closeAll();\r\n                console.log(data);\r\n                if (data.IsSucceed) {\r\n                  $(\"#treeOrgan\").html(\"\");\r\n                  organ.server.getOrganTreeData();\r\n                  layer.msg(\"添加成功!\", { icon: 6 });\r\n                } else {\r\n                  layer.msg(\"增加数据失败! \" + data.Errors[0].Message, {\r\n                    icon: 5\r\n                  });\r\n                }\r\n              },\r\n              error: function(err) {\r\n                layer.closeAll();\r\n                layer.msg(\"数据操作失败\", { icon: 5 });\r\n              }\r\n            });\r\n          },\r\n          eidtOrgan: function(data, url, flage) {\r\n            var dataBean = layui.consts.basePostData();\r\n            data.Id = organ.baseData.id;\r\n            dataBean.Data = data;\r\n            var urlID = \"\";\r\n            if (flage === \"staff\") {\r\n              urlID = url;\r\n            } else {\r\n              urlID = url + \"/\" + organ.baseData.id;\r\n            }\r\n            console.log(data);\r\n            var str1 = JSON.stringify(dataBean);\r\n            layer.load();\r\n            $.ajax({\r\n              type: \"put\",\r\n              url: layui.setter.baseUrl + urlID,\r\n              data: str1,\r\n              dataType: \"json\",\r\n              headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\"\r\n              },\r\n              success: function(data) {\r\n                layer.closeAll();\r\n                console.log(data);\r\n                if (data.IsSucceed) {\r\n                  $(\"#treeOrgan\").html(\"\");\r\n                  organ.server.getOrganTreeData();\r\n                  layer.msg(\"修改成功!\", { icon: 6 });\r\n                } else {\r\n                  layer.msg(\"增加数据失败! \" + data.Errors[0].Message, {\r\n                    icon: 5\r\n                  });\r\n                }\r\n              },\r\n              error: function(err) {\r\n                layer.closeAll();\r\n                layer.msg(\"数据操作失败\", { icon: 5 });\r\n              }\r\n            });\r\n          },\r\n          moveNodeData: function(data, isRise) {\r\n            var urlID = \"\";\r\n            if (data.Flag === \"department\") {\r\n              urlID = \"/api/Organ/department/\" + data.Id + \"/order/\" + isRise;\r\n            } else if (data.Flag === \"position\") {\r\n              urlID = \"/api/Organ/position/\" + data.Id + \"/order/\" + isRise;\r\n            } else {\r\n              organ.render.showForm(\"#organFrom\");\r\n              return;\r\n            }\r\n            layer.load();\r\n            $.ajax({\r\n              type: \"put\",\r\n              url: layui.setter.baseUrl + urlID,\r\n              dataType: \"json\",\r\n              headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\"\r\n              },\r\n              success: function(data) {\r\n                layer.closeAll(\"loading\");\r\n                console.log(data);\r\n                if (data.IsSucceed) {\r\n                  $(\"#treeOrgan\").html(\"\");\r\n                  organ.server.getOrganTreeData();\r\n                  layer.msg(\"数据移动成功\", { icon: 1 });\r\n                } else {\r\n                  layer.msg(\"数据操作失败\" + data.Errors[0].Message, {\r\n                    icon: 5\r\n                  });\r\n                }\r\n              },\r\n              error: function(err) {\r\n                layer.closeAll();\r\n                layer.msg(\"数据操作失败\", { icon: 5 });\r\n              }\r\n            });\r\n          },\r\n          delet: function(flage, id) {\r\n            layer.load();\r\n            var urlID = \"\";\r\n            if (flage === \"department\") {\r\n              urlID = \"/api/Organ/department/\" + id;\r\n            } else if (flage === \"position\") {\r\n              urlID = \"/api/Organ/position/\" + id;\r\n            } else if (flage === \"staff\") {\r\n              urlID = \"/api/Organ/staff/\" + id;\r\n            } else {\r\n              layer.closeAll();\r\n              return;\r\n            }\r\n            $.ajax({\r\n              type: \"DELETE\",\r\n              url: layui.setter.baseUrl + urlID,\r\n              dataType: \"json\",\r\n              headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\"\r\n              },\r\n              success: function(data) {\r\n                layer.closeAll();\r\n                console.log(data);\r\n                if (data.IsSucceed) {\r\n                  $(\"#treeOrgan\").html(\"\");\r\n                  organ.server.getOrganTreeData();\r\n                  layer.alert(\"删除成功\", {\r\n                    icon: 1\r\n                  });\r\n                } else {\r\n                  layer.msg(\"获取节点数据失败! \" + data.Errors[0].Message, {\r\n                    icon: 5\r\n                  });\r\n                }\r\n              },\r\n              error: function(err) {\r\n                layer.closeAll();\r\n                layer.msg(\"数据操作失败\", { icon: 5 });\r\n              }\r\n            });\r\n          }\r\n        },\r\n        render: {\r\n          renderTree: function(data) {\r\n            //渲染树 1.数据 2.DOM节点 3.配置项目\r\n            organ.baseData.treeObj = layui.z_treeConfig.renderTree(\r\n              data,\r\n              \"treeOrgan\",\r\n              {\r\n                callback: {\r\n                  onClick: organ.currData.treeOnClick\r\n                }\r\n              }\r\n            );\r\n          },\r\n          renderTitle: function(flag) {\r\n            console.log(flag);\r\n            if (flag === \"organ\") {\r\n              $(\"#formTitle\").html(\"公司基础信息\");\r\n            } else if (flag === \"department\") {\r\n              $(\"#formTitle\").html(\"编辑部门信息\");\r\n            } else if (flag === \"position\") {\r\n              $(\"#formTitle\").html(\"编辑职位信息\");\r\n            } else if (flag === \"staff\") {\r\n              $(\"#formTitle\").html(\"编辑人员信息\");\r\n            }\r\n          },\r\n          showForm: function(id) {\r\n            $(\"#DepartmentFrom\").addClass(\"layui-hide\");\r\n            $(\"#PositionFrom\").addClass(\"layui-hide\");\r\n            $(\"#staffFrom\").addClass(\"layui-hide\");\r\n            $(\"#organFrom\").addClass(\"layui-hide\");\r\n            $(id).show();\r\n            $(id).removeClass(\"layui-hide\");\r\n          },\r\n          renderCompanyInfo: function(data) {\r\n            console.log(data, \"数据\");\r\n            $(\"#companyName\").html(data[0].Title ? data[0].Title : \"四川海力\");\r\n            $(\"#companyCode\").html(data[0].Code ? data[0].Code : \"HENL\");\r\n          },\r\n          renderFormData: function(data) {\r\n            if (data.Flag === \"department\") {\r\n              form.val(\"DepartmentFrom\", {\r\n                Name: data.Title\r\n              });\r\n            }\r\n          },\r\n          disabledBtton: function(flage) {\r\n            common.isDisableButton(\"#delet\", false);\r\n            common.isDisableButton(\"#lower\", false);\r\n            common.isDisableButton(\"#upper\", false);\r\n            if (flage === \"organ\") {\r\n              common.isDisableButton(\"#lower\", true);\r\n              common.isDisableButton(\"#upper\", true);\r\n              common.isDisableButton(\"#showDepartment\", false);\r\n              common.isDisableButton(\"#showPosition\", true);\r\n              common.isDisableButton(\"#showStaff\", true);\r\n            } else if (flage === \"department\") {\r\n              common.isDisableButton(\"#showPosition\", false);\r\n              common.isDisableButton(\"#showDepartment\", false);\r\n              common.isDisableButton(\"#showStaff\", true);\r\n            } else if (flage === \"position\") {\r\n              common.isDisableButton(\"#showPosition\", true);\r\n              common.isDisableButton(\"#showDepartment\", true);\r\n              common.isDisableButton(\"#showStaff\", false);\r\n            } else if (flage === \"staff\") {\r\n              common.isDisableButton(\"#showPosition\", true);\r\n              common.isDisableButton(\"#showDepartment\", true);\r\n              common.isDisableButton(\"#showStaff\", true);\r\n              common.isDisableButton(\"#lower\", true);\r\n              common.isDisableButton(\"#upper\", true);\r\n            }\r\n          },\r\n          showtips: function() {\r\n            common.showtips(\".layui-btn-group button\");\r\n          },\r\n          openDeleteConfirm: function(data) {\r\n            layer.confirm(\r\n              \"你确定要删除<span style='font-weight:bolder'>\" +\r\n                data.Title +\r\n                \"</span>的节点吗?\",\r\n              {\r\n                btn: [\"确定\", \"取消\"], //按钮\r\n                icon: 3\r\n              },\r\n              function() {\r\n                console.log(\"确认\", data);\r\n                organ.server.delet(data.Flag, data.Id);\r\n              },\r\n              function() {\r\n                console.log(\"取消\");\r\n              }\r\n            );\r\n          }\r\n        },\r\n        currData: {\r\n          getTreeNodeName: function(treeData, id) {\r\n            var title = common.getTreeNodeName(treeData, id, \"name\");\r\n            $(\".topName\").val(title);\r\n            $(\".submit\").html(\"立即修改\");\r\n          },\r\n          addIcon: function(data) {\r\n            if (data.length > 0) {\r\n              for (var i = 0; i < data.length; i++) {\r\n                if (data[i].Flag === \"organ\") {\r\n                  data[i].icon =\r\n                    \"../../../layuiadmin/style/img/ztreeImg/company.png\";\r\n                  data[i].iconOpen =\r\n                    \"../../../layuiadmin/style/img/ztreeImg/companyOp.png\";\r\n                } else if (data[i].Flag === \"department\") {\r\n                  data[i].icon =\r\n                    \"../../../layuiadmin/style/img/ztreeImg/department.png\";\r\n                  data[i].iconOpen =\r\n                    \"../../../layuiadmin/style/img/ztreeImg/departmentOp.png\";\r\n                } else if (data[i].Flag === \"position\") {\r\n                  data[i].icon =\r\n                    \"../../../layuiadmin/style/img/ztreeImg/position.png\";\r\n                  data[i].iconOpen =\r\n                    \"../../../layuiadmin/style/img/ztreeImg/positionOp.png\";\r\n                } else if (data[i].Flag === \"staff\") {\r\n                  delete data[i].Children;\r\n                  data[i].icon =\r\n                    \"../../../layuiadmin/style/img/ztreeImg/staff.png\";\r\n                  data[i].iconOpen =\r\n                    \"../../../layuiadmin/style/img/ztreeImg/staffOp.png\";\r\n                }\r\n                if (data[i].Children && data[i].Children.length > 0) {\r\n                  organ.currData.addIcon(data[i].Children);\r\n                }\r\n              }\r\n            }\r\n            return data;\r\n          },\r\n          treeOnClick: function(e, id, node) {\r\n            console.log(node);\r\n            organ.baseData.treeNode = node;\r\n            organ.baseData.id = node.Id;\r\n            organ.baseData.editFalge = true;\r\n            organ.render.renderTitle(node.Flag);\r\n            organ.server.getNodedata(node.Flag, node.Id);\r\n            organ.render.disabledBtton(node.Flag);\r\n            var PidNode = organ.baseData.treeObj.getNodeByTId(node.parentTId);\r\n            if (PidNode) {\r\n              $(\"body .topName\").val(PidNode.Title);\r\n              $(\".submit\").html(\"立即修改\");\r\n            }\r\n          }\r\n        }\r\n      };\r\n      organ.init();\r\n    }\r\n  );\r\n"]}