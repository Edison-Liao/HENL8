{"version":3,"sources":["xitongguanli/biaojuguanli.js"],"names":["layui","config","base","extend","index","use","$","table","form","laydate","element","common","option","laypage","baseUrl","setter","revenueUrl","meterPara","biaojuSeverEvent","getMeterFireResult","data","ajaxFun","then","res","appResult","isSucceeded","console","info","addType","result","items","Result","render","renderSelect","loadErrorText","fail","err","log","getMeterCalculateType","getGasDirection","getMeterStatus","getMeterPayMode","getPriceType","renderObjSelect","addMeter","layer","closeAll","dataBean","consts","basePostData","Data","Method","str1","JSON","stringify","reload","msg","icon","detailMeter","Id","find","each","this","attr","open","type","title","content","maxmin","area","meterId","Me","MeterId","val","Address","EditMeterStatus","MeterStatus","EditMeterPayMode","MeterPayMode","StepFamilyMembers","EditStepFamilyMemberEndDate","StepFamilyMemberEndDate","substr","EditPriceTypeId","PriceTypeId","MeterFactoryId","MeterTypeId","MeterSize","MeterCode","BeginNum","EditGasDirection","GasDirection","MeterAddress","MeterDate","Pid","EditCalculateType","CalculateType","CalculateValue","OldNo","OldOtherInfo","SortNum","Description","renderMeterFireTable","editMeter","removeAttr","btn","yes","layero","submit","on","field","AddressId","undefined","close","trigger","deleteMeter","para","load","shade","addMeterFire","deleteMeterFire","editMeterFire","FireResult","NewFireResult","FireDate","NewFireDate","FireMembers","FireSortNum","FireDescription","html","append","i","Name","Value","Text","renderAddTable","elem","id","url","where","parseData","request","page","cols","fixed","width","templet","d","Area_Id_VillageName","Area_Id_BuildingName","UnitNo","FloorNo","RoomNo","AddressStatusName","AddressTypeName","loading","limit","text","renderMeterTable","MeterFactoryName","MeterTypeName","MeterSizeName","align","toolbar","flag","FireResultName","renderMeterDate","renderFireDate","renderNewFireDate","renderStepFamilyMemberEndDate","init","getAttribute","removeClass","meter_res","Idd","fire_res","MeterFireInfo","offset","zIndex","obj","layEvent","event","tr","confirm","verify","notNull","value","notDefault","RegExp","test"],"mappings":"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","file":"../../../xitongguanli/biaojuguanli.js","sourcesContent":["layui\r\n  .config({\r\n    base: \"../../../layuiadmin/\" //静态资源所在路径\r\n  })\r\n  .extend({\r\n    index: \"lib/index\" //主入口模块\r\n  })\r\n  .use([\"index\", \"table\", \"form\",\"consts\",\"common\",\"layer\",\"laydate\",\"element\"], function() {\r\n    \r\n    var $ = layui.$,\r\n    table = layui.table,\r\n    form = layui.form,\r\n    laydate = layui.laydate,\r\n    element = layui.element,\r\n    common = layui.common;\r\n    var laypage = layui.laypage;\r\n    var option = {\r\n          baseUrl:layui.setter.revenueUrl\r\n        }\r\n    var meterPara = {}\r\n\r\n    //服务交互 \r\n    var biaojuSeverEvent = {\r\n      getMeterFireResult: function(data){\r\n        common.ajaxFun(\"get\", \"/api/Meter/MeterFireResult?Method=meterfireresult\",'',option).then(function(res) {\r\n          if (common.appResult.isSucceeded(res)) {\r\n            console.info(\"res\", res)\r\n            addType = res\r\n            var result = {element:data,items:res.Result}\r\n            //console.info(result)\r\n            render.renderSelect(result)\r\n          } else {\r\n            common.appResult.loadErrorText(res);\r\n          }\r\n        })\r\n        .fail(err => {\r\n          console.log(err);\r\n        });\r\n      },\r\n      getMeterCalculateType: function(data){\r\n        common.ajaxFun(\"get\", \"/api/Meter/MeterCalculateType?Method=metercalculatetype\",'',option).then(function(res) {\r\n          if (common.appResult.isSucceeded(res)) {\r\n            addType = res\r\n            var result = {element:\"CalculateType\",items:res.Result}\r\n            //console.info(result)\r\n            render.renderSelect(result)\r\n          } else {\r\n            common.appResult.loadErrorText(res);\r\n          }\r\n        })\r\n        .fail(err => {\r\n          console.log(err);\r\n        });\r\n      },\r\n      getGasDirection: function(data){\r\n        common.ajaxFun(\"get\", \"/api/Meter/MeterGasDirection?Method=metergasdirection\",'',option).then(function(res) {\r\n          if (common.appResult.isSucceeded(res)) {\r\n            addType = res\r\n            var result = {element:\"GasDirection\",items:res.Result}\r\n            //console.info(result)\r\n            render.renderSelect(result)\r\n          } else {\r\n            common.appResult.loadErrorText(res);\r\n          }\r\n        })\r\n        .fail(err => {\r\n          console.log(err);\r\n        });\r\n      },\r\n      getMeterStatus: function(data){\r\n        common.ajaxFun(\"get\", \"/api/Meter/MeterStatus?Method=meterstatus\",'',option).then(function(res) {\r\n          if (common.appResult.isSucceeded(res)) {\r\n            addType = res\r\n            var result = {element:\"MeterStatus\",items:res.Result}\r\n            //console.info(result)\r\n            render.renderSelect(result)\r\n          } else {\r\n            common.appResult.loadErrorText(res);\r\n          }\r\n        })\r\n        .fail(err => {\r\n          console.log(err);\r\n        });\r\n      },\r\n      getMeterPayMode: function(data){\r\n        common.ajaxFun(\"get\", \"/api/Meter/MeterPayMode?Method=meterpaymode\",'',option).then(function(res) {\r\n          if (common.appResult.isSucceeded(res)) {\r\n            addType = res\r\n            var result = {element:\"MeterPayMode\",items:res.Result}\r\n            //console.info(result)\r\n            render.renderSelect(result)\r\n          } else {\r\n            common.appResult.loadErrorText(res);\r\n          }\r\n        })\r\n        .fail(err => {\r\n          console.log(err);\r\n        });\r\n      }, \r\n      getPriceType: function(data){\r\n        common.ajaxFun(\"get\", \"/api/PriceType/query/all?Method=all\",'',option).then(function(res) {\r\n          if (common.appResult.isSucceeded(res)) {\r\n            addType = res\r\n            var result = {element:\"PriceTypeId\",items:res.Result}\r\n            //console.info(result)\r\n            render.renderObjSelect(result)\r\n          } else {\r\n            common.appResult.loadErrorText(res);\r\n          }\r\n        })\r\n        .fail(err => {\r\n          console.log(err);\r\n        });\r\n      },\r\n      addMeter: function(data) {\r\n        layer.closeAll();\r\n        var dataBean = layui.consts.basePostData();\r\n        dataBean.Data = data;\r\n        dataBean.Method=\"insert\";\r\n        var str1 = JSON.stringify(dataBean);\r\n        //console.log(str1);\r\n        common\r\n          .ajaxFun(\"post\", \"/api/Meter/insert\", str1,option)\r\n          .then(function(res) {\r\n            if (common.appResult.isSucceeded(res)) {\r\n              table.reload(\"LAY-meterTable\");\r\n              layer.msg(\"数据添加成功!\", { icon: 6 });\r\n            } else {\r\n              common.appResult.loadErrorText(res);\r\n            }\r\n          })\r\n          .fail(err => {\r\n            console.log(err);\r\n          });\r\n      },\r\n      detailMeter: function(data) {\r\n        layer.closeAll();\r\n        var dataBean = layui.consts.basePostData();\r\n        dataBean.Data = data;\r\n        dataBean.Method=\"insert\";\r\n        var str1 = JSON.stringify(dataBean);\r\n        //console.log(str1);\r\n        common\r\n          .ajaxFun(\"get\", \"/api/Meter/query/key?Data.Id=\"+data.Id+\"&Method=key\", \"\",option)\r\n          .then(function(res) {\r\n            if (common.appResult.isSucceeded(res)) {\r\n              var res = res.Result\r\n              \r\n              $(\"#lock-meterEditDetail-from\").find('input[type=text],select,input[type=hidden],textarea').each(function() {\r\n                  $(this).attr(\"disabled\",\"disabled\");\r\n              });\r\n\r\n              $(\"#LAY-edit-address-search-submit\").attr(\"disabled\",\"disabled\");\r\n              $(\"#LAY-fire-add\").attr(\"disabled\",\"disabled\");\r\n              $(\"#LAY-edit-address-search-submit\").attr(\"class\",\"layui-btn layui-btn-disabled\");\r\n              $(\"#LAY-fire-add\").attr(\"class\",\"layui-btn layui-btn-disabled\");\r\n              layer.open({\r\n                type: 1,\r\n                title: \"表具详情\",\r\n                content: $('#lock-meterEdit-from'),\r\n                maxmin: true,\r\n                area: [\"800px\", \"500px\"],\r\n              });\r\n              \r\n              meterPara.meterId = res.Me.MeterId\r\n              console.info(\"res\", res)\r\n              form.val(\"lock-meterEditDetail-from\", {\r\n                \"Address\": res.Address.Address //== 1 ? res.Area_Id_VillageName +\"-\"+Area_Id_BuildingName+\"-\"+res.Address.UnitNo+\"-\"+res.Address.FloorNo+\"-\"+res.Address.RoomNo:\r\n                ,\"EditMeterStatus\": res.Me.MeterStatus\r\n                ,\"EditMeterPayMode\": res.Me.MeterPayMode\r\n                ,\"StepFamilyMembers\": res.Me.StepFamilyMembers\r\n                ,\"EditStepFamilyMemberEndDate\": res.Me.StepFamilyMemberEndDate.substr(0,10)\r\n                ,\"EditPriceTypeId\": res.Me.PriceTypeId\r\n                //,\"EditMeterFactoryId\": res.Me.MeterFactoryId\r\n                //,\"EditMeterTypeId\": res.Me.MeterTypeId\r\n                ,\"MeterFactoryId\": res.Me.MeterFactoryId\r\n                ,\"MeterTypeId\": res.Me.MeterTypeId\r\n                ,\"MeterSize\": res.Me.MeterSize\r\n                ,\"MeterCode\": res.Me.MeterCode\r\n                ,\"BeginNum\": res.Me.BeginNum\r\n                ,\"EditGasDirection\": res.Me.GasDirection\r\n                ,\"MeterAddress\": res.Me.MeterAddress\r\n                ,\"MeterDate\": res.Me.MeterDate.substr(0,10)\r\n                ,\"Pid\": res.Me.Pid\r\n                ,\"EditCalculateType\": res.Me.CalculateType\r\n                ,\"CalculateValue\": res.Me.CalculateValue\r\n                ,\"OldNo\": res.Me.OldNo\r\n                ,\"OldOtherInfo\": res.Me.OldOtherInfo\r\n                ,\"SortNum\": res.Me.SortNum\r\n                ,\"Description\": res.Me.Description\r\n              })\r\n              form.render('select');\r\n              render.renderMeterFireTable(res.Me.Id,true)\r\n            } else {\r\n              common.appResult.loadErrorText(res);\r\n            }\r\n          })\r\n          .fail(err => {\r\n            console.log(err);\r\n          });\r\n      },\r\n      editMeter: function(data) {\r\n\r\n        common\r\n          .ajaxFun(\"get\", \"/api/Meter/query/key?Data.Id=\"+data.Id+\"&Method=key\", \"\",option)\r\n          .then(function(res) {\r\n            if (common.appResult.isSucceeded(res)) {\r\n              var res = res.Result\r\n              \r\n              $(\"#lock-meterEditDetail-from\").find('input[type=text],select,input[type=hidden],textarea').each(function() {\r\n                  $(this).removeAttr(\"disabled\");\r\n              });\r\n              $(\"#LAY-edit-address-search-submit\").removeAttr(\"disabled\");\r\n              $(\"#LAY-fire-add\").removeAttr(\"disabled\");\r\n\r\n              $(\"#LAY-edit-address-search-submit\").attr(\"class\",\"layui-btn\");\r\n              $(\"#LAY-fire-add\").attr(\"class\",\"layui-btn \");\r\n              layer.open({\r\n                type: 1,\r\n                title: \"修改表具信息\",\r\n                content: $('#lock-meterEdit-from'),\r\n                maxmin: true,\r\n                area: [\"800px\", \"500px\"],\r\n                btn: [\"确定\", \"取消\"],\r\n                yes: function(index, layero) {\r\n                  var submit = $(\"#LAY-biaoju-Edit-submit\");\r\n                   //获取提交的字段\r\n                  //监听提交\r\n                  form.on('submit(LAY-biaoju-Edit-submit)', function (data) {\r\n                    var field = data.field; //获取提交的字段\r\n                    field.AddressId = meterPara.AddressId == undefined ? res.Me.AddressId : meterPara.AddressId\r\n                    field.MeterStatus = field.EditMeterStatus\r\n                    field.MeterPayMode = field.EditMeterPayMode\r\n                    field.StepFamilyMemberEndDate = field.EditStepFamilyMemberEndDate\r\n                    field.GasDirection = field.EditGasDirection\r\n                    field.CalculateType = field.EditCalculateType == \"\"? 0 : field.EditCalculateType\r\n                    field.PriceTypeId = field.EditPriceTypeId\r\n                    //MeterFactoryId MeterTypeId\r\n                    delete(field.Address)\r\n                    delete(field.EditMeterStatus)\r\n                    delete(field.EditMeterPayMode)\r\n                    delete(field.EditGasDirection)\r\n                    delete(field.EditCalculateType)\r\n                    delete(field.EditPriceTypeId)\r\n                    console.info(field)\r\n                    \r\n                    var dataBean = layui.consts.basePostData();\r\n                    //delete(field.Meter)\r\n                    dataBean.Data = field;\r\n                    dataBean.Data.Id = meterPara.MeterId\r\n\r\n                    dataBean.Method=\"update\";\r\n                    var str1 = JSON.stringify(dataBean);\r\n\r\n                    console.info(\"update\", str1)\r\n                    common.ajaxFun(\"put\", \"/api/Meter/update\", str1,option).then(function(res) {\r\n                      if (common.appResult.isSucceeded(res)) {\r\n                        table.reload(\"LAY-meterTable\");\r\n                        layer.close(index);\r\n                        layer.msg(\"数据更新成功!\", { icon: 6 });\r\n                      } else {\r\n                        common.appResult.loadErrorText(res);\r\n                      }\r\n                    })\r\n                    .fail(err => {\r\n                      console.log(err);\r\n                    });\r\n                    \r\n                  });\r\n                  // //关闭弹层\r\n                  submit.trigger(\"click\");\r\n                }\r\n              });\r\n              \r\n              meterPara.meterId = res.Me.MeterId\r\n              console.info(\"res\", res)\r\n              form.val(\"lock-meterEditDetail-from\", {\r\n                \"Address\": res.Address.Address //== 1 ? res.Area_Id_VillageName +\"-\"+Area_Id_BuildingName+\"-\"+res.Address.UnitNo+\"-\"+res.Address.FloorNo+\"-\"+res.Address.RoomNo:\r\n                ,\"EditMeterStatus\": res.Me.MeterStatus\r\n                ,\"EditMeterPayMode\": res.Me.MeterPayMode\r\n                ,\"StepFamilyMembers\": res.Me.StepFamilyMembers\r\n                ,\"EditStepFamilyMemberEndDate\": res.Me.StepFamilyMemberEndDate.substr(0,10)\r\n                ,\"EditPriceTypeId\": res.Me.PriceTypeId\r\n                //,\"EditMeterFactoryId\": res.Me.MeterFactoryId\r\n                //,\"EditMeterTypeId\": res.Me.MeterTypeId\r\n                ,\"MeterFactoryId\": res.Me.MeterFactoryId\r\n                ,\"MeterTypeId\": res.Me.MeterTypeId\r\n                ,\"MeterSize\": res.Me.MeterSize\r\n                ,\"MeterCode\": res.Me.MeterCode\r\n                ,\"BeginNum\": res.Me.BeginNum\r\n                ,\"EditGasDirection\": res.Me.GasDirection\r\n                ,\"MeterAddress\": res.Me.MeterAddress\r\n                ,\"MeterDate\": res.Me.MeterDate.substr(0,10)\r\n                ,\"Pid\": res.Me.Pid\r\n                ,\"EditCalculateType\": res.Me.CalculateType\r\n                ,\"CalculateValue\": res.Me.CalculateValue\r\n                ,\"OldNo\": res.Me.OldNo\r\n                ,\"OldOtherInfo\": res.Me.OldOtherInfo\r\n                ,\"SortNum\": res.Me.SortNum\r\n                ,\"Description\": res.Me.Description\r\n              })\r\n              form.render('select');\r\n              render.renderMeterFireTable(res.Me.Id)\r\n            } else {\r\n              common.appResult.loadErrorText(res);\r\n            }\r\n          })\r\n          .fail(err => {\r\n            console.log(err);\r\n          });\r\n      },\r\n      deleteMeter: function(para) {\r\n        layer.closeAll();\r\n        layer.load(0, { shade: false });\r\n        var dataBean = layui.consts.basePostData();\r\n        console.info(para.Me)\r\n        dataBean.Data = {Id:para.Me.Id,}\r\n        dataBean.Method = \"remove\"\r\n        var str1 = JSON.stringify(dataBean);\r\n        console.info(str1)\r\n        common\r\n          .ajaxFun(\"delete\", \"/api/Meter/remove\", str1,option)\r\n          .then(function(res) {\r\n            if (common.appResult.isSucceeded(res)) {\r\n              table.reload(\"LAY-meterTable\");\r\n              layer.msg(\"数据删除成功!\", { icon: 6 });\r\n            } else {\r\n              common.appResult.loadErrorText(res);\r\n            }\r\n          })\r\n          .fail(err => {\r\n            console.log(err);\r\n          });\r\n      },\r\n      addMeterFire: function(data) {\r\n        layer.closeAll();\r\n        var dataBean = layui.consts.basePostData();\r\n        dataBean.Data = data;\r\n        dataBean.Method=\"insert\";\r\n        var str1 = JSON.stringify(dataBean);\r\n        //console.log(str1);\r\n        common\r\n          .ajaxFun(\"post\", \"/api/MeterFire/insert\", str1,option)\r\n          .then(function(res) {\r\n            if (common.appResult.isSucceeded(res)) {\r\n              table.reload(\"LAY-MeterFireTable\");\r\n              $(\"#lock-meterFireAdd-from\").find('input[type=text],select,input[type=hidden],textarea').each(function() {\r\n                   $(this).val('');\r\n              });\r\n              layer.msg(\"数据添加成功!\", { icon: 6 });\r\n            } else {\r\n              common.appResult.loadErrorText(res);\r\n            }\r\n          })\r\n          .fail(err => {\r\n            console.log(err);\r\n          });\r\n      },\r\n      deleteMeterFire: function(para) {\r\n        var dataBean = layui.consts.basePostData();\r\n        console.info(para)\r\n        dataBean.Data = {Id:para.Id,}\r\n        dataBean.Method = \"remove\"\r\n        var str1 = JSON.stringify(dataBean);\r\n        console.info(str1)\r\n        \r\n        common\r\n          .ajaxFun(\"delete\", \"/api/MeterFire/remove\", str1,option)\r\n          .then(function(res) {\r\n            if (common.appResult.isSucceeded(res)) {\r\n              table.reload(\"LAY-MeterFireTable\");\r\n              layer.msg(\"数据删除成功!\", { icon: 6 });\r\n            } else {\r\n              common.appResult.loadErrorText(res);\r\n            }\r\n          })\r\n          .fail(err => {\r\n            console.log(err);\r\n          });\r\n        \r\n      },\r\n      editMeterFire: function(para) {\r\n        var dataBean = layui.consts.basePostData();\r\n        common\r\n          .ajaxFun(\"get\", \"/api/MeterFire/query/key?Data.Id=\"+para.Id+\"&Method=key\",\"\",option)\r\n          .then(function(res) {\r\n            if (common.appResult.isSucceeded(res)) {\r\n              var res = res.Result\r\n              layer.open({\r\n                type: 1,\r\n                title: \"修改点火信息\",\r\n                content: $('#lock-meterFireAdd-from'),\r\n                maxmin: true,\r\n                area: [\"800px\", \"500px\"],\r\n                btn: [\"确定\", \"取消\"],\r\n                yes: function(index, layero) {\r\n                  var submit = $(\"#LAY-fire-submit\");\r\n                   //获取提交的字段\r\n                  //监听提交\r\n                  form.on('submit(LAY-fire-submit)', function (data) {\r\n                    var field = data.field; //获取提交的字段\r\n                    if(field.FireResult == \"全部\"){\r\n                      layer.msg(\"请选择点火状态\", { icon: 5 });\r\n                    }else{\r\n                      var dataBean = layui.consts.basePostData();\r\n                      field = {\r\n                        \"MeterId\": para.MeterId,\r\n                        \"Id\":para.Id,\r\n                        \"FireResult\": field.NewFireResult,\r\n                        \"FireDate\": field.NewFireDate,\r\n                        \"FireMembers\": field.FireMembers,\r\n                        \"SortNum\": field.FireSortNum,\r\n                        \"Description\": field.FireDescription,\r\n                      }\r\n                      delete(field.NewFireDate)\r\n                      delete(field.NewFireDate)\r\n                      delete(field.FireSortNum)\r\n                      delete(field.FireDescription)\r\n                      dataBean.Data = field;\r\n                      dataBean.Method=\"update\";\r\n                      var str1 = JSON.stringify(dataBean);\r\n                      console.info(\"data\", str1)\r\n                      \r\n                      common.ajaxFun(\"put\", \"/api/MeterFire/update\", str1,option).then(function(res) {\r\n                        if (common.appResult.isSucceeded(res)) {\r\n                          table.reload(\"LAY-MeterFireTable\");\r\n                          $(\"#LAY-fire-submit\").find('input[type=text],select,input[type=hidden],textarea').each(function() {\r\n                                 $(this).val('');\r\n                          });\r\n                          layer.msg(\"数据更新成功!\", { icon: 6 });\r\n                        } else {\r\n                          common.appResult.loadErrorText(res);\r\n                        }\r\n                      })\r\n                      .fail(err => {\r\n                        console.log(err);\r\n                      });\r\n                      \r\n                    }\r\n                    \r\n                  });\r\n                  layer.close(index); //关闭弹层\r\n                  submit.trigger(\"click\");\r\n                }\r\n              });\r\n              console.info(res)\r\n              meterPara.meterId = res.Me.MeterId\r\n              form.val(\"lock-meterFireAdd-from\", {\r\n                //\"Meter\": res.Me.MeterId\r\n                \"NewFireDate\": res.Me.FireDate.substr(0,10)\r\n                ,\"FireMembers\": res.Me.FireMembers\r\n                ,\"NewFireResult\": res.Me.FireResult\r\n                ,\"FireSortNum\": res.Me.SortNum\r\n                ,\"FireDescription\": res.Me.Description\r\n              })\r\n              \r\n            } else {\r\n              common.appResult.loadErrorText(res);\r\n            }\r\n          })\r\n          .fail(err => {\r\n            console.log(err);\r\n          });\r\n      }\r\n    }\r\n\r\n    var render = {\r\n      renderObjSelect: function(data) {\r\n        $(\"#Edit\"+ data.element).html('');\r\n        $(\"#Edit\"+ data.element).append('<option selected>全部</option>');\r\n        $(\"#\"+data.element).html('');\r\n        $(\"#\"+data.element).append('<option selected>全部</option>');\r\n        var content\r\n        for(var i in data.items){\r\n          //content += '<option  &nbsp; id='+data.items[i].Me.Id+' &nbsp; value='+data.items[i].Me.Name+'>'+data.items[i].Me.Name+'</option>';\r\n          content += '<option  &nbsp; value='+data.items[i].Id+'>'+data.items[i].Name+'</option>';\r\n        }\r\n\r\n        $(\"#Edit\"+ data.element).append(content);\r\n        $(\"#\"+data.element).append(content);\r\n        form.render('select');       \r\n      },\r\n      renderSelect: function(data) { \r\n        $(\"#Edit\"+ data.element).html('');\r\n        $(\"#Edit\"+ data.element).append('<option selected>全部</option>');\r\n        $(\"#\"+data.element).html('');\r\n        $(\"#\"+data.element).append('<option selected>全部</option>');\r\n        var content\r\n        for(var i in data.items){\r\n          content += '<option  &nbsp; value='+data.items[i].Value+'>'+data.items[i].Text+'</option>';\r\n        }\r\n\r\n        $(\"#Edit\"+ data.element).append(content);\r\n        $(\"#\"+data.element).append(content);\r\n        form.render('select');\r\n      },\r\n      renderAddTable: function(){\r\n        table.render({\r\n            elem: \"#LAY-MeterAddressTable\",\r\n            id:\"LAY-MeterAddressTable\",\r\n            url: layui.setter.revenueUrl + \"/api/Address/query/list\", //接口\r\n            where:{\"Method\":\"list\"},\r\n            parseData:layui.setter.parseData,\r\n            request: layui.setter.request,\r\n            page:true,\r\n            cols: [\r\n              [ \r\n                {type: 'radio', fixed: 'left'},\r\n                { field: \"Area_Id_VillageName\",  title: \"小区\" , width:120,templet: function(d) {\r\n                    return d.Area_Id_VillageName\r\n                  }},\r\n                { field: \"Area_Id_BuildingName\",  title: \"楼栋\" ,width:120,templet: function(d) {\r\n                    return d.Area_Id_BuildingName;\r\n                  }}, \r\n                { field: \"Address\", title: \"地址\",width:120,templet: function(d) {\r\n                    return d.Me.Address;\r\n                  } },\r\n                { field: \"UnitNo\", title: \"单元\",width:60,templet: function(d) {\r\n                    return d.Me.UnitNo;\r\n                  } },\r\n                { field: \"FloorNo\", title: \"楼层\",width:60,templet: function(d) {\r\n                    return d.Me.FloorNo;\r\n                  } },\r\n                { field: \"RoomNo\", title: \"房号\",width:60,templet: function(d) {\r\n                    return d.Me.RoomNo;\r\n                  } },\r\n                { field: \"AddressStatusName\",  title: \"状态\" ,width:80,templet: function(d) {\r\n                    return d.AddressStatusName;\r\n                  }},  \r\n                { field: \"AddressTypeName\",  title: \"类型\" ,width:80,templet: function(d) {\r\n                    return d.AddressTypeName\r\n                  }},\r\n              ]\r\n            ],\r\n            loading: true,\r\n            limit: 10,\r\n            text: \"对不起，加载出现异常！\"\r\n          });\r\n      },\r\n      renderMeterTable: function(){\r\n        table.render({\r\n            elem: \"#LAY-meterTable\",\r\n            id:\"LAY-meterTable\",\r\n            url: layui.setter.revenueUrl + \"/api/Meter/query/list\", //接口\r\n            where:{\"Method\":\"list\"},\r\n            parseData:layui.setter.parseData,\r\n            request: layui.setter.request,\r\n            page:true,\r\n            cols: [\r\n              [ \r\n                { field: \"MeterCode\", title: \"表编号\",templet: function(d) {\r\n                    return d.Me.MeterCode;\r\n                  } },\r\n                { field: \"MeterFactoryName\", title: \"表厂家\",templet: function(d) {\r\n                  return d.MeterFactoryName;\r\n                } },\r\n                { field: \"MeterTypeName\", title: \"表类型\",templet: function(d) {\r\n                  return d.MeterTypeName;\r\n                } },\r\n                { field: \"MeterSizeName\", title: \"表规格\",templet: function(d) {\r\n                  return d.MeterSizeName;\r\n                } },\r\n                { field: \"Address\", title: \"地址\",templet: function(d) {\r\n                    return d.Address.Address;\r\n                  } },\r\n                { field: \"UnitNo\",  title: \"单元号\" ,templet: function(d) {\r\n                    return d.Address.UnitNo\r\n                  }},\r\n                { field: \"FloorNo\",  title: \"楼层\" ,templet: function(d) {\r\n                    return d.Address.FloorNo;\r\n                  }}, \r\n                { field: \"RoomNo\",  title: \"房号\" ,templet: function(d) {\r\n                    return d.Address.RoomNo;\r\n                  }}, \r\n                { field: \"Area_Id_BuildingName\",  title: \"楼栋\" ,templet: function(d) {\r\n                    return d.Area_Id_BuildingName;\r\n                  }},  \r\n                { field: \"Area_Id_VillageName\",  title: \"小区\" ,templet: function(d) {\r\n                    return d.Area_Id_VillageName\r\n                  }},\r\n                {title: \"操作\",fixed: 'right', align:'center', width:200,toolbar: '#LAY-meterTable-barOperation'}\r\n              ]\r\n            ],\r\n            loading: true,\r\n            limit: 10,\r\n            text: \"对不起，加载出现异常！\"\r\n          });\r\n      },\r\n      renderMeterFireTable: function(data,flag){\r\n        if(flag){\r\n\r\n          console.info(\"flag\",flag)\r\n          table.render({\r\n            elem: \"#LAY-MeterFireTable\",\r\n            id:\"LAY-MeterFireTable\",// meterid \r\n            url: layui.setter.revenueUrl + \"/api/MeterFire/query/list?&Data.MeterId=\"+data+\"&Method=list\", //接口\r\n            where:{\"Method\":\"list\"},\r\n            parseData:layui.setter.parseData,\r\n            request: layui.setter.request,\r\n            page:true,\r\n            cols: [\r\n              [ \r\n                { field: \"FireResult\", title: \"点火状态\",templet: function(d) {\r\n                  return d.FireResultName;\r\n                } },\r\n                { field: \"FireDate\", title: \"点火时间\",templet: function(d) {\r\n                  return d.Me.FireDate;\r\n                } },\r\n                { field: \"FireMembers\", title: \"点火人\",templet: function(d) {\r\n                  return d.Me.FireMembers;\r\n                } },\r\n                { field: \"SortNum\", title: \"排序号\",templet: function(d) {\r\n                    return d.Me.SortNum;\r\n                  } },\r\n                { field: \"Description\",  title: \"备注\" ,templet: function(d) {\r\n                    return d.Me.Description\r\n                  }},\r\n              ]\r\n            ],\r\n            loading: true,\r\n            limit: 10,\r\n            text: \"对不起，加载出现异常！\"\r\n          });\r\n        }else{\r\n          table.render({\r\n            elem: \"#LAY-MeterFireTable\",\r\n            id:\"LAY-MeterFireTable\",// meterid \r\n            url: layui.setter.revenueUrl + \"/api/MeterFire/query/list?&Data.MeterId=\"+data+\"&Method=list\", //接口\r\n            where:{\"Method\":\"list\"},\r\n            parseData:layui.setter.parseData,\r\n            request: layui.setter.request,\r\n            page:true,\r\n            cols: [\r\n              [ \r\n                { field: \"FireResult\", title: \"点火状态\",templet: function(d) {\r\n                  return d.FireResultName;\r\n                } },\r\n                { field: \"FireDate\", title: \"点火时间\",templet: function(d) {\r\n                  return d.Me.FireDate;\r\n                } },\r\n                { field: \"FireMembers\", title: \"点火人\",templet: function(d) {\r\n                  return d.Me.FireMembers;\r\n                } },\r\n                { field: \"SortNum\", title: \"排序号\",templet: function(d) {\r\n                    return d.Me.SortNum;\r\n                  } },\r\n                { field: \"Description\",  title: \"备注\" ,templet: function(d) {\r\n                    return d.Me.Description\r\n                  }},\r\n                {title: \"操作\",fixed: 'right', align:'center', width:200,toolbar: '#LAY-fireTable-barOperation'}\r\n              ]\r\n            ],\r\n            loading: true,\r\n            limit: 10,\r\n            text: \"对不起，加载出现异常！\"\r\n          });\r\n        }\r\n        \r\n      },\r\n      renderMeterDate: function(){\r\n        laydate.render({\r\n          elem: '#MeterDate'\r\n        });\r\n      },\r\n      renderFireDate: function(){\r\n        laydate.render({\r\n          elem: '#FireDate'\r\n        });\r\n      },\r\n      renderNewFireDate: function(){\r\n        laydate.render({\r\n          elem: '#NewFireDate'\r\n        });\r\n      },\r\n      renderStepFamilyMemberEndDate: function(){\r\n        laydate.render({\r\n          elem: '#StepFamilyMemberEndDate'\r\n        });\r\n        laydate.render({\r\n          elem: '#EditStepFamilyMemberEndDate'\r\n        });\r\n      },\r\n      init: function() {\r\n        biaojuSeverEvent.getMeterStatus()\r\n        biaojuSeverEvent.getMeterPayMode()\r\n        biaojuSeverEvent.getGasDirection()\r\n        biaojuSeverEvent.getMeterCalculateType()\r\n        biaojuSeverEvent.getPriceType()\r\n        biaojuSeverEvent.getMeterFireResult('NewFireResult')\r\n        biaojuSeverEvent.getMeterFireResult('FireResult')\r\n        render.renderAddTable()\r\n        render.renderMeterTable()\r\n        render.renderMeterDate()\r\n        render.renderFireDate()\r\n        render.renderNewFireDate()\r\n        render.renderStepFamilyMemberEndDate()\r\n      },\r\n    }\r\n\r\n    element.on('tab(meterAdd-tab)', function(){\r\n      console.info(this.getAttribute('lay-id'))\r\n    });\r\n\r\n    $(\".layui-btn.layuiadmin-btn-meterAdd\").on(\"click\", function() {\r\n      //var type = $(this).data(\"type\");\r\n      //active[type] ? active[type].call(this) : \"\";\r\n      $(\"#lock-meterAddDetail-from\").find('input[type=text],select,input[type=hidden],textarea').each(function() {\r\n        $(this).val('');\r\n        $(this).removeAttr(\"disabled\");\r\n        $(this).removeClass(\"layui-disabled\");\r\n      });\r\n      $(\"#lock-fireDetail-from\").find('input[type=text],select,input[type=hidden],textarea').each(function() {\r\n        $(this).val('');\r\n        $(this).removeAttr(\"disabled\");\r\n        $(this).removeClass(\"layui-disabled\");\r\n      });\r\n      $(\"#LAY-address-search-submit\").removeAttr(\"disabled\");\r\n      form.render('select');\r\n      layer.open({\r\n          type: 1,\r\n          title: \"添加表具\",\r\n          content: $('#lock-meterAdd-from'),\r\n          maxmin: true,\r\n          area: [\"800px\", \"500px\"],\r\n          btn: [\"确定\", \"取消\"],\r\n          yes: function(index, layero) {\r\n            var submit = $(\"#LAY-biaoju-submit\")\r\n\r\n            form.on('submit(LAY-biaoju-submit)', function (data) {\r\n              var field = data.field;\r\n              if(field.Address == \"\"){\r\n                layer.msg(\"请查询并选择表具所在地址\", { icon: 5 });\r\n              }else{\r\n                common.ajaxFun(\"get\", \"/api/Common/GetInsertGuid\",\"\",option).then(function(meter_res) {\r\n                  if (common.appResult.isSucceeded(meter_res)) {\r\n                    field.Idd = meter_res.Result;\r\n                    if(field.FireResult){\r\n                      common.ajaxFun(\"get\", \"/api/Common/GetInsertGuid\",\"\",option).then(function(fire_res) {\r\n                        if (common.appResult.isSucceeded(fire_res)) {\r\n                          field.AddressId = meterPara.AddressId\r\n\r\n                          field.SortNum = field.SortNum == \"\"? 0 : field.SortNum\r\n                          //CalculateType 默认应该为空\r\n                          field.MeterFireInfo = [{\r\n                            \"MeterId\": field.Idd,\r\n                            \"Idd\":fire_res.Result,\r\n                            \"FireResult\": field.FireResult,\r\n                            \"FireDate\": field.FireDate,\r\n                            \"FireMembers\": field.FireMembers,\r\n                            \"SortNum\": field.FireSortNum,\r\n                            \"Description\": field.FireDescription,\r\n                          }]\r\n                          delete(field.Address)\r\n                          delete(field.FireDate)\r\n                          delete(field.FireMembers)\r\n                          delete(field.FireResult)\r\n                          delete(field.FireSortNum)\r\n                          delete(field.FireDescription)\r\n                          field.CalculateType = (field.CalculateType == \"全部\" || field.CalculateType == \"\") ? \"0\" :field.CalculateType\r\n                          console.info(field)\r\n                          biaojuSeverEvent.addMeter(field);\r\n                        } else {\r\n                          common.appResult.loadErrorText(res);\r\n                        }\r\n                      })\r\n                      .fail(err => {\r\n                        console.log(err);\r\n                      });\r\n                    }else{\r\n                      field.AddressId = meterPara.AddressId\r\n                      field.SortNum = field.SortNum == \"\"? 0 : field.SortNum\r\n                      field.MeterFireInfo = []\r\n                      delete(field.Address)\r\n                      field.CalculateType = (field.CalculateType == \"全部\" || field.CalculateType == \"\") ? \"1\" :field.CalculateType\r\n                      console.info(field)\r\n                      biaojuSeverEvent.addMeter(field);\r\n                    }\r\n                    \r\n                    //biaojuSeverEvent.addMeter(field);\r\n                  } else {\r\n                    common.appResult.loadErrorText(res);\r\n                  }\r\n                })\r\n                .fail(err => {\r\n                  console.log(err);\r\n                });\r\n              }\r\n              \r\n            });\r\n            submit.trigger(\"click\");\r\n          }\r\n        });\r\n    });\r\n    \r\n    $(\".layui-btn.layuiadmin-btn-meterFireAdd\").on(\"click\", function() {\r\n\r\n      layer.open({\r\n          type: 1,\r\n          title: \"添加点火信息\",\r\n          content: $('#lock-meterFireAdd-from'),\r\n          maxmin: true,\r\n          area: [\"800px\", \"500px\"],\r\n          btn: [\"确定\", \"取消\"],\r\n          yes: function(index, layero) {\r\n            var submit = $(\"#LAY-fire-submit\")\r\n\r\n            form.on('submit(LAY-fire-submit)', function (data) {\r\n              var field = data.field;\r\n\r\n              common.ajaxFun(\"get\", \"/api/Common/GetInsertGuid\",\"\",option).then(function(meter_res) {\r\n                if (common.appResult.isSucceeded(meter_res)) {\r\n                  field.Idd = meter_res.Result;\r\n                    common.ajaxFun(\"get\", \"/api/Common/GetInsertGuid\",\"\",option).then(function(fire_res) {\r\n                      if (common.appResult.isSucceeded(fire_res)) {\r\n                        field.FireSortNum = field.FireSortNum == \"\"? 0 : field.FireSortNum\r\n                        //CalculateType 默认应该为空\r\n                        field.MeterFireInfo = {\r\n                          \"MeterId\": meterPara.MeterId,\r\n                          \"Idd\":field.Idd,\r\n                          \"FireResult\": field.NewFireResult,\r\n                          \"FireDate\": field.NewFireDate,\r\n                          \"FireMembers\": field.FireMembers,\r\n                          \"SortNum\": field.FireSortNum,\r\n                          \"Description\": field.FireDescription,\r\n                        }\r\n                        console.info(field.MeterFireInfo)\r\n                        biaojuSeverEvent.addMeterFire(field.MeterFireInfo);\r\n                      } else {\r\n                        common.appResult.loadErrorText(res);\r\n                      }\r\n                    })\r\n                    .fail(err => {\r\n                      console.log(err);\r\n                    });\r\n                  \r\n                  \r\n                  //biaojuSeverEvent.addMeter(field);\r\n                } else {\r\n                  common.appResult.loadErrorText(res);\r\n                }\r\n              })\r\n              .fail(err => {\r\n                console.log(err);\r\n              });\r\n              \r\n              \r\n            });\r\n            submit.trigger(\"click\");\r\n          }\r\n        });\r\n    });\r\n\r\n    table.on('radio(LAY-MeterAddressTable)', function(data){\r\n      var res = data.data\r\n      meterPara.AddressId = res.Me.Id;\r\n      meterPara.Address = res.Me.Address;\r\n      console.info(meterPara)\r\n    });\r\n    \r\n    $(\".layui-btn.LAY-address-search-submit\").on(\"click\", function(data){\r\n      console.info(\"LAY-address-search-submit\")\r\n      layer.open({\r\n          type: 1,\r\n          title: \"查询地址\",\r\n          content: $('#lock-address-from'),\r\n          maxmin: true,\r\n          offset: 'auto',\r\n          zIndex :999999999,\r\n          area: [\"1000px\", \"550px\"],\r\n          btn: [\"确定\", \"取消\"],\r\n          yes: function(index, layero) {\r\n            console.info(meterPara.Address)\r\n            \r\n            form.val(\"lock-meterAddDetail-from\", {\r\n              \"Address\": meterPara.Address // \"name\": \"value\"\r\n            })\r\n            form.val(\"lock-meterEditDetail-from\", {\r\n              \"Address\": meterPara.Address // \"name\": \"value\"\r\n            })\r\n\r\n            layer.close(index);\r\n          }\r\n      });\r\n    });\r\n\r\n    $(\".layui-btn.LAY-edit-address-search-submit\").on(\"click\", function(data){\r\n      console.info(\"LAY-address-search-submit\")\r\n      layer.open({\r\n          type: 1,\r\n          title: \"查询地址\",\r\n          content: $('#lock-address-from'),\r\n          maxmin: true,\r\n          offset: 'auto',\r\n          zIndex :999999999,\r\n          area: [\"1000px\", \"550px\"],\r\n          btn: [\"确定\", \"取消\"],\r\n          yes: function(index, layero) {\r\n            console.info(meterPara.Address)\r\n            \r\n            form.val(\"lock-meterAddDetail-from\", {\r\n              \"Address\": meterPara.Address // \"name\": \"value\"\r\n            })\r\n            form.val(\"lock-meterEditDetail-from\", {\r\n              \"Address\": meterPara.Address // \"name\": \"value\"\r\n            })\r\n\r\n            layer.close(index);\r\n          }\r\n      });\r\n    });\r\n\r\n    table.on('tool(LAY-meterTable)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter=\"对应的值\"\r\n      var data = obj.data; //获得当前行数据\r\n      var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）\r\n      var tr = obj.tr; //获得当前行 tr 的DOM对象\r\n      if(layEvent === 'detail'){ //删除\r\n        biaojuSeverEvent.detailMeter(data.Me)\r\n      } else if(layEvent === 'del'){ //删除\r\n        layer.confirm('真的删除行么', function(index){\r\n          biaojuSeverEvent.deleteMeter(data); //删除对应行（tr）的DOM结构，并更新缓存\r\n          layer.close(index);\r\n          //向服务端发送删除指令\r\n        });\r\n      } else if(layEvent === 'edit'){ //编辑\r\n        //do something\r\n        console.info(data.Me)\r\n        meterPara.MeterId = data.Me.Id\r\n        //同步更新缓存对应的值\r\n        biaojuSeverEvent.editMeter(data.Me)\r\n      } \r\n    });\r\n\r\n    table.on('tool(LAY-MeterFireTable)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter=\"对应的值\"\r\n      var data = obj.data; //获得当前行数据\r\n      var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）\r\n      var tr = obj.tr; //获得当前行 tr 的DOM对象\r\n      if(layEvent === 'fireEdit'){ //编辑\r\n        //do something\r\n        console.info(\"editMeterFire\")\r\n        //同步更新缓存对应的值\r\n        biaojuSeverEvent.editMeterFire(data.Me)\r\n      } else if(layEvent === 'fireDel'){ //编辑\r\n        //do something\r\n        console.info(\"deleteMeterFire\")\r\n        //同步更新缓存对应的值\r\n        biaojuSeverEvent.deleteMeterFire(data.Me)\r\n      }\r\n\r\n    });\r\n\r\n    form.verify({\r\n      notNull:function(value){\r\n        console.info(value)\r\n        console.info(value == \"\")\r\n        console.info(value == null)\r\n        console.info(value == undefined)\r\n        //console.info(new RegExp(\"^\\s+$\").test(value))\r\n        if(value == \"\" || value == null || value == undefined){\r\n          return \"地址不能为空\";\r\n        }\r\n        \r\n      },\r\n      notDefault:function(value){\r\n        if(new RegExp(\"^全部$\").test(value) || value == \"\" || value == null || value == undefined){\r\n          return \"下拉框不能为默认值\";\r\n        }\r\n      },\r\n    })\r\n    render.init();\r\n  });\r\n"]}