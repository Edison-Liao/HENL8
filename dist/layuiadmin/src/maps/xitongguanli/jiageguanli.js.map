{"version":3,"sources":["xitongguanli/jiageguanli.js"],"names":["layui","config","base","extend","index","use","$","form","table","layer","laydate","tree","common","selectedType","render","elem","range","on","this","siblings","length","css","find","data","console","log","field","topName","organ","baseData","editFalge","server","eidtOrgan","addOrgan","obj","layEvent","event","tr","info","ajaxFun","Me","Id","then","res","appResult","isSucceeded","item","Result","open","type","title","content","maxmin","area","btn","PriceStartDateTime","substr","val","PriceVersion","BasePrice","IsLadder","PriceLadderType","PriceLadderTypeName","LadderCycleValue","LadderDatetime","LadderStartDatetime","LadderEndDatetime","IsSale","LadderGas1","LadderPrice1","LadderGas2","LadderPrice2","LadderGas3","LadderPrice3","LadderGas4","LadderPrice4","BasePersonCount","PersonLadderAdd1","PersonLadderAdd2","PersonLadderAdd3","PersonLadderAdd4","IsSurcharge","priceSurcharge","priceSurchargeName","PriceSurchargeStart","PriceSurchargeStartName","PriceSurchargeValue","PriceSurchargeDelayMonth","PriceSurchargeDelayDay","PriceDateTime","PriceEndDateTime","SortNum","Description","loadErrorText","fail","err","init","getTreeData","showtips","treeNode","id","nodeData","click","html","yes","layero","submit","Idd","addType","trigger","PriceTypeID","split","addVer","JSON","stringify","msg","icon","edit","Coding","Name","CompanyCoding","Status","MonthLimitGas","YearLimitGas","confirm","showForm","name","moveNodeData","openDeleteConfirm","dataBean","consts","basePostData","Data","PageIndex","PageSize","Method","currData","i","DataSource","nodeData1","renderTree","getNodedata","flage","urlID","load","ajax","url","setter","baseUrl","dataType","headers","Accept","Content-Type","success","closeAll","IsSucceed","dataNode","Code","Message","Errors","error","CompanyName","str1","each","reload","isRise","Flag","delete","target","where","parseData","request","tokenName","pageName","limitName","page","cols","templet","d","util","toDateString","fixed","align","toolbar","loading","limit","text","nodes","renderTitle","flag","addClass","show","removeClass","renderFormData","Title","disabledBtton","isDisableButton","delet","getTreeNodeName","treeData"],"mappings":"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","file":"../../../xitongguanli/jiageguanli.js","sourcesContent":["layui\r\n  .config({\r\n    base: \"../../../layuiadmin/\"\r\n  })\r\n  .extend({\r\n    index: \"lib/index\" //主入口模块\r\n  })\r\n  .use([\"index\", \"table\", \"layer\", \"tree\", \"common\", \"consts\", \"haderSerch\",\"laydate\"], function() {\r\n    var $ = layui.$,\r\n      form = layui.form,\r\n      table = layui.table,\r\n      layer = layui.layer,\r\n      tree = layui.tree,\r\n      laydate = layui.laydate,\r\n      common = layui.common;\r\n\r\n    var selectedType ={};\r\n    // const obj = { a: 1, b: { c: \"csc\", d: \"cc\" }, d: \"dd\" };\r\n    // console.log(...obj, \"~~~~~~~~~~~\");\r\n    // const a = { ...obj };\r\n    // console.log(a, \"解构\");\r\n    laydate.render({\r\n      elem: '#LadderDatetime'\r\n      ,range: true //指定元素\r\n    });\r\n    laydate.render({\r\n      elem: '#PriceDateTime'\r\n      ,range: true //指定元素\r\n    });\r\n    laydate.render({\r\n      elem: '#PriceSurchargeStar'\r\n    });\r\n    \r\n    $(\"body\").on(\"mousedown\", \".layui-tree a\", function() {\r\n      if (!$(this).siblings(\"ul\").length) {\r\n        $(\".layui-tree a cite\").css(\"color\", \"#333\");\r\n        $(this)\r\n          .find(\"cite\")\r\n          .css(\"color\", \"red\");\r\n      }\r\n    });\r\n    //数据表单监听(部门)\r\n    form.on(\"submit(DepartmentFrom)\", function(data) {\r\n      console.log(data.field, \"新增部门\");\r\n      delete data.field.topName;\r\n      if (organ.baseData.editFalge) {\r\n        console.log(\"执行编辑命令\");\r\n        organ.server.eidtOrgan(data.field, \"/api/Role\", \"department\");\r\n      } else {\r\n        organ.server.addOrgan(data.field, \"/api/Role\", \"department\");\r\n        console.log(\"执行添加命令\");\r\n      }\r\n      return false;\r\n    });\r\n    //数据表单监听(角色)\r\n    form.on(\"submit(staffFrom)\", function(data) {\r\n      delete data.field.topName;\r\n      if (organ.baseData.editFalge) {\r\n        organ.server.eidtOrgan(data.field, \"/api/Role\", \"staff\");\r\n      } else {\r\n        organ.server.addOrgan(data.field, \"/api/Role\", \"staff\");\r\n      }\r\n      return false;\r\n    });\r\n\r\n    table.on('tool()', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter=\"对应的值\"\r\n      var data = obj.data; //获得当前行数据\r\n      var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）\r\n      var tr = obj.tr; //获得当前行 tr 的DOM对象\r\n      if(layEvent === 'detail'){ //查看\r\n        \r\n        console.info(data);\r\n      \r\n        common.ajaxFun(\"get\", \"/api/PriceDetail/query/\"+data.Me.Id).then(function(res) {\r\n          if (common.appResult.isSucceeded(res)) {\r\n\r\n            console.info(res)\r\n            var item = res.Result.Me\r\n            layer.open({\r\n                type: 1,\r\n                title: \"查看价格版本详情\",\r\n                content: $('#lock-detail-from'),\r\n                maxmin: true,\r\n                area: [\"800px\", \"400px\"],\r\n                btn: [\"关闭\"],\r\n            });\r\n            console.info(item.PriceStartDateTime)\r\n console.info(item.PriceStartDateTime.substr(0,10))\r\n\r\n            form.val(\"lock-detail-from\", {\r\n                \"PriceVersion\": item.PriceVersion // \"name\": \"value\"\r\n                ,\"BasePrice\": item.BasePrice\r\n                ,\"IsLadder\": item.IsLadder\r\n                ,\"PriceLadderType\": item.PriceLadderType\r\n                ,\"PriceLadderTypeName\": item.PriceLadderTypeName\r\n                ,\"LadderCycleValue\": item.LadderCycleValue\r\n                ,\"LadderDatetime\": item.LadderStartDatetime.substr(0,10) + \" - \" + item.LadderEndDatetime.substr(0,10)//item.LadderStartDatetime\r\n                ,\"IsSale\": item.IsSale\r\n\r\n                ,\"LadderGas1\": item.LadderGas1\r\n                ,\"LadderPrice1\": item.LadderPrice1\r\n                ,\"LadderGas2\": item.LadderGas2\r\n                ,\"LadderPrice2\": item.LadderPrice2\r\n                ,\"LadderGas3\": item.LadderGas3\r\n                ,\"LadderPrice3\": item.LadderPrice3\r\n                ,\"LadderGas4\": item.LadderGas4\r\n                ,\"LadderPrice4\": item.LadderPrice4\r\n\r\n                ,\"BasePersonCount\": item.BasePersonCount\r\n                ,\"PersonLadderAdd1\": item.PersonLadderAdd1\r\n                ,\"PersonLadderAdd2\": item.PersonLadderAdd2\r\n                ,\"PersonLadderAdd3\": item.PersonLadderAdd3\r\n                ,\"PersonLadderAdd4\": item.PersonLadderAdd4\r\n                ,\"IsSurcharge\": item.IsSurcharge\r\n                ,\"priceSurcharge\": item.priceSurcharge\r\n                ,\"priceSurchargeName\": item.priceSurchargeName\r\n\r\n                ,\"PriceSurchargeStart\": item.PriceSurchargeStart\r\n                ,\"PriceSurchargeStartName\": item.PriceSurchargeStartName\r\n                ,\"PriceSurchargeValue\": item.PriceSurchargeValue\r\n                ,\"PriceSurchargeDelayMonth\": item.PriceSurchargeDelayMonth\r\n                ,\"PriceSurchargeDelayDay\": item.PriceSurchargeDelayDay\r\n                ,\"PriceDateTime\":  item.PriceStartDateTime.substr(0,10) + \" - \" + item.PriceEndDateTime.substr(0,10)\r\n                ,\"SortNum\": item.SortNum\r\n                ,\"Description\": item.Description\r\n            })\r\n          } else {\r\n            common.appResult.loadErrorText(res);\r\n          }\r\n        })\r\n        .fail(err => {\r\n          console.log(err);\r\n        });\r\n      \r\n      } \r\n    });\r\n    //organ\r\n    var organ = {\r\n      init: function() {\r\n        this.server.getTreeData();\r\n        this.render.showtips();\r\n        this.event();\r\n      },\r\n      baseData: {\r\n        treeNode: {},\r\n        id: \"\",\r\n        nodeData: {},\r\n        editFalge: false\r\n      },\r\n      event: function() {\r\n        $(\"#refresh\").click(function() {\r\n          $(\"#treeOrgan\").html(\"\");\r\n          organ.server.getTreeData();\r\n          organ.baseData.editFalge = false;\r\n        });\r\n        $(\"#addPriceType\").click(function() {\r\n          layer.open({\r\n            type: 1,\r\n            title: \"添加价格类型\",\r\n            content: $('#lock-from'),\r\n            maxmin: true,\r\n            area: [\"800px\", \"400px\"],\r\n            btn: [\"确定\", \"取消\"],\r\n            yes: function(index, layero) {\r\n              var submit = $(\"#LAY-jiageleixing-add-submit\");\r\n              //获取提交的字段\r\n              //监听提交\r\n              form.on('submit(LAY-jiageleixing-add-submit)', function (data) {\r\n                var field = data.field;\r\n                common.ajaxFun(\"get\", \"/api/Common/GetInsertGuid\").then(function(res) {\r\n                  if (common.appResult.isSucceeded(res)) {\r\n                    field.Idd = res.Result;\r\n                    console.info(field)\r\n                    organ.server.addType(field);\r\n                  } else {\r\n                    common.appResult.loadErrorText(res);\r\n                  }\r\n                })\r\n                .fail(err => {\r\n                  console.log(err);\r\n                });\r\n              });\r\n              submit.trigger(\"click\");\r\n              \r\n            }\r\n          });\r\n        });\r\n        \r\n        $(\"#addPriceVersion\").click(function() {\r\n          console.info(\"addPriceVersion\")\r\n          layer.open({\r\n            type: 1,\r\n            title: \"添加价格版本\",\r\n            content: $('#lock-detail-from'),\r\n            maxmin: true,\r\n            area: [\"800px\", \"400px\"],\r\n            btn: [\"确定\", \"取消\"],\r\n            yes: function(index, layero) {\r\n              var submit = $(\"#LAY-jiagebanben-add-submit\");\r\n              //获取提交的字段\r\n              //监听提交\r\n              form.on('submit(LAY-jiagebanben-add-submit)', function (data) {\r\n                var field = data.field;\r\n                field.PriceTypeID = selectedType.Id\r\n                common.ajaxFun(\"get\", \"/api/Common/GetInsertGuid\").then(function(res) {\r\n                  if (common.appResult.isSucceeded(res)) {\r\n                    field.Idd = res.Result;\r\n                    var LadderDatetime = field.LadderDatetime.split(' ');\r\n                    var PriceDateTime = field.PriceDateTime.split(' ');\r\n                    field.PriceStartDateTime = PriceDateTime[0];\r\n                    field.PriceEndDateTime = PriceDateTime[2];\r\n                    field.LadderStartDatetime = LadderDatetime[0];\r\n                    field.LadderEndDatetime = LadderDatetime[2];\r\n                    field.IsLadder = field.IsLadder ==\"on\" ? true : false;\r\n                    field.IsSale = field.IsSale ==\"on\" ? true : false;\r\n                    field.IsSurcharge = field.IsSurcharge ==\"on\" ? true : false;\r\n                    delete(field.PriceDateTime)\r\n                    delete(field.LadderDatetime)\r\n                    organ.server.addVer(field);\r\n                  } else {\r\n                    common.appResult.loadErrorText(res);\r\n                  }\r\n                })\r\n                .fail(err => {\r\n                  console.log(err);\r\n                });\r\n              });\r\n              submit.trigger(\"click\");\r\n              \r\n            }\r\n          });\r\n        });\r\n        $(\"#edtPriceType\").click(function() {\r\n          console.info(selectedType)\r\n          if(JSON.stringify(selectedType) == \"{}\"){\r\n            layer.msg(\"未选择价格类型，请选择后再进行修改操作\", { icon: 5 });\r\n            return\r\n          }else{\r\n            layer.open({\r\n              type: 1,\r\n              title: \"修改用气类型\",\r\n              content: $('#lock-from'),\r\n              maxmin: true,\r\n              area: [\"800px\", \"400px\"],\r\n              btn: [\"确定\", \"取消\"],\r\n              yes: function(index, layero) {\r\n                var submit = $(\"#LAY-jiageleixing-add-submit\");\r\n                //获取提交的字段\r\n                //监听提交\r\n                form.on('submit(LAY-jiageleixing-add-submit)', function (data) {\r\n                  var field = data.field;\r\n                  console.info(field)\r\n                  organ.server.edit(field);\r\n                });\r\n                submit.trigger(\"click\");\r\n              }\r\n            });\r\n            form.val(\"lock-from\", {\r\n                \"Coding\": selectedType.Coding // \"name\": \"value\"\r\n                ,\"Name\": selectedType.Name\r\n                ,\"CompanyCoding\": selectedType.CompanyCoding\r\n                ,\"Status\": selectedType.Status\r\n                ,\"MonthLimitGas\": selectedType.MonthLimitGas\r\n                ,\"YearLimitGas\": selectedType.YearLimitGas\r\n                ,\"SortNum\": selectedType.SortNum\r\n                ,\"Description\": selectedType.Description\r\n            })\r\n\r\n          }\r\n        });\r\n        $(\"#delPriceType\").click(function() {\r\n          console.info(selectedType)\r\n          if(JSON.stringify(selectedType) == \"{}\"){\r\n            layer.msg(\"未选择价格类型，请选择后再进行删除操作\", { icon: 5 });\r\n            return\r\n          }else{\r\n            layer.confirm('真的删除行么', function(){\r\n              console.info(selectedType)\r\n              organ.server.delete(selectedType.Id); \r\n            });\r\n          }\r\n        });\r\n        $(\"#showStaff\").click(function() {\r\n          console.info(\"yes\")\r\n          $(\"#formTitle\").html(\"新增角色信息\");\r\n          $(\".submit\").html(\"立即提交\");\r\n          organ.render.showForm(\"#staffFrom\");\r\n          form.val(\"staffFrom\", {\r\n            topName: organ.baseData.treeNode.name\r\n          });\r\n          organ.baseData.editFalge = false;\r\n        });\r\n        $(\"#lower\").click(function() {\r\n          organ.server.moveNodeData(organ.baseData.treeNode, false);\r\n          organ.baseData.editFalge = false;\r\n        });\r\n        $(\"#upper\").click(function() {\r\n          organ.server.moveNodeData(organ.baseData.treeNode, true);\r\n          organ.baseData.editFalge = false;\r\n        });\r\n        $(\"#delet\").click(function() {\r\n          organ.render.openDeleteConfirm(organ.baseData.treeNode);\r\n        });\r\n      },\r\n      server: {\r\n        getTreeData: function() {\r\n          var dataBean = layui.consts.basePostData();\r\n          dataBean.Data = {};\r\n          dataBean.Data.CompanyCoding = \"88888888\";\r\n          dataBean.Data.PageIndex  = \"1\";\r\n          dataBean.Data.PageSize   = \"100\";\r\n          dataBean.Method=\"list\";\r\n          console.log(dataBean);\r\n          var str1 = JSON.stringify(dataBean);\r\n          \r\n          common.ajaxFun(\"get\", \"/api/PriceType/query/list/?CompanyCoding=\"+dataBean.Data.CompanyCoding+\"&PageIndex=\"+dataBean.Data.PageIndex+\"&PageSize=\"+dataBean.Data.PageSize).then(function(res) {\r\n            if (common.appResult.isSucceeded(res)) {\r\n              console.log(res.Result);\r\n              var nodeData = res.Result.DataSource;\r\n              function currData(data) {\r\n                if (data.length > 0) {\r\n                  for (var i = 0; i < data.length; i++) {\r\n                    data[i].name = data[i].Name;\r\n                  }\r\n                }\r\n                return data;\r\n              }\r\n              var nodeData1 = currData(nodeData);\r\n              organ.render.renderTree(nodeData1);\r\n            } else {\r\n              common.appResult.loadErrorText(res);\r\n            }\r\n          })\r\n          .fail(err => {\r\n            console.log(err);\r\n          });\r\n          \r\n        },\r\n        getNodedata: function(flage, id) {\r\n          var urlID = \"\";\r\n          if (flage === \"roleCatalog\") {\r\n            urlID = \"/api/Role/\" + id;\r\n            organ.render.showForm(\"#DepartmentFrom\");\r\n          } else if (flage === \"roleInfo\") {\r\n            urlID = \"/api/Role/\" + id;\r\n            organ.render.showForm(\"#staffFrom\");\r\n          } else {\r\n            return;\r\n          }\r\n          layer.load(2);\r\n          $.ajax({\r\n            type: \"get\",\r\n            url: layui.setter.baseUrl + urlID,\r\n            dataType: \"json\",\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\"\r\n            },\r\n            success: function(data) {\r\n              layer.closeAll();\r\n              console.log(data);\r\n              if (data.IsSucceed) {\r\n                organ.baseData.nodeData = data.Result;\r\n                var dataNode = data.Result;\r\n                if (flage === \"roleCatalog\") {\r\n                  form.val(\"DepartmentFrom\", {\r\n                    Name: dataNode.Name,\r\n                    Code: dataNode.Code,\r\n                    Message: dataNode.Message\r\n                  });\r\n                } else if (flage === \"roleInfo\") {\r\n                  form.val(\"staffFrom\", {\r\n                    Name: dataNode.Name,\r\n                    Code: dataNode.Code,\r\n                    Message: dataNode.Message\r\n                  });\r\n                }\r\n              } else {\r\n                layer.msg(\"获取节点数据失败! \" + data.Errors[0].Message, {\r\n                  icon: 5\r\n                });\r\n              }\r\n            },\r\n            error: function(err) {\r\n              layer.closeAll();\r\n              layer.msg(\"数据操作失败\", { icon: 5 });\r\n            }\r\n          });\r\n        },\r\n        addType: function(data, url, flage) {\r\n          var dataBean = layui.consts.basePostData();\r\n\r\n          dataBean.Data = data;\r\n          dataBean.Data.CompanyCoding = \"88888888\";\r\n          dataBean.Data.CompanyName = \"88888888\";\r\n          dataBean.Method=\"insert\";\r\n          //console.log(data);\r\n          var str1 = JSON.stringify(dataBean);\r\n          layer.load();\r\n          common.ajaxFun(\"post\", \"/api/PriceType/insert\", str1).then(function(res) {\r\n            if (common.appResult.isSucceeded(res)) {\r\n              $(\"#lock-from\").find('input[type=text],select,input[type=hidden]').each(function() {\r\n                   $(this).val('');\r\n              });\r\n              $(\"#treeOrgan\").html(\"\");\r\n              organ.server.getTreeData();\r\n              layer.msg(\"数据添加成功!\", { icon: 6 });\r\n            } else {\r\n              common.appResult.loadErrorText(res);\r\n            }\r\n          })\r\n          .fail(err => {\r\n            console.log(err);\r\n          });\r\n          layer.closeAll();\r\n        },\r\n        addVer: function(data, url, flage) {\r\n          var dataBean = layui.consts.basePostData();\r\n          dataBean.Data = data;\r\n          dataBean.Data.CompanyCoding = \"88888888\";\r\n          dataBean.Data.CompanyName = \"88888888\";\r\n          dataBean.Method=\"insert\";\r\n          var str1 = JSON.stringify(dataBean);\r\n          layer.load();\r\n          common.ajaxFun(\"post\", \"/api/PriceDetail/insert\", str1).then(function(res) {\r\n            if (common.appResult.isSucceeded(res)) {\r\n              $(\"#lock-from\").find('input[type=text],select,input[type=hidden]').each(function() {\r\n                   $(this).val('');\r\n              });\r\n              table.reload(\"LAY-jiagebanbenTable\");\r\n              layer.msg(\"数据添加成功!\", { icon: 6 });\r\n            } else {\r\n              common.appResult.loadErrorText(res);\r\n            }\r\n          })\r\n          .fail(err => {\r\n            console.log(err);\r\n          });\r\n          layer.closeAll();\r\n        },\r\n        edit: function(data, url) {\r\n          layer.load();\r\n          var dataBean = layui.consts.basePostData();\r\n\r\n          dataBean.Data = data;\r\n          dataBean.Data.CompanyCoding = \"88888888\";\r\n          dataBean.Data.CompanyName = \"88888888\";\r\n          dataBean.Data.Id = selectedType.Id;\r\n          dataBean.Method=\"update\";\r\n          console.log(data);\r\n          var str1 = JSON.stringify(dataBean);\r\n          common.ajaxFun(\"put\", \"/api/PriceType/update\", str1).then(function(res) {\r\n            if (common.appResult.isSucceeded(res)) {\r\n              $(\"#lock-from\").find('input[type=text],select,input[type=hidden]').each(function() {\r\n                   $(this).val('');\r\n              });\r\n              $(\"#treeOrgan\").html(\"\");\r\n              organ.server.getTreeData();\r\n              layer.msg(\"数据修改成功!\", { icon: 6 });\r\n            } else {\r\n              common.appResult.loadErrorText(res);\r\n            }\r\n          })\r\n          .fail(err => {\r\n            console.log(err);\r\n          });\r\n          layer.closeAll();\r\n        },\r\n        moveNodeData: function(data, isRise) {\r\n          var urlID = \"\";\r\n          if (data.Flag === \"roleInfo\") {\r\n            urlID = \"/api/Role/\" + data.Id + \"/order/\" + isRise;\r\n          } else {\r\n            return;\r\n          }\r\n          layer.load();\r\n          $.ajax({\r\n            type: \"put\",\r\n            url: layui.setter.baseUrl + urlID,\r\n            dataType: \"json\",\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\"\r\n            },\r\n            success: function(data) {\r\n              layer.closeAll(\"loading\");\r\n              console.log(data);\r\n              if (data.IsSucceed) {\r\n                $(\"#treeOrgan\").html(\"\");\r\n                organ.server.getTreeData();\r\n                layer.msg(\"数据移动成功\", { icon: 1 });\r\n              } else {\r\n                layer.msg(\"数据操作失败\" + data.Errors[0].Message, {\r\n                  icon: 5\r\n                });\r\n              }\r\n            },\r\n            error: function(err) {\r\n              layer.closeAll();\r\n              layer.msg(\"数据操作失败\", { icon: 5 });\r\n            }\r\n          });\r\n        },\r\n        delete: function(id) {\r\n          layer.load();\r\n          var dataBean = layui.consts.basePostData();\r\n\r\n          dataBean.Data = id;\r\n          dataBean.Method=\"remove\";\r\n          console.log(dataBean);\r\n          var str1 = JSON.stringify(dataBean);\r\n          common.ajaxFun(\"delete\", \"/api/PriceType/remove\", str1).then(function(res) {\r\n            if (common.appResult.isSucceeded(res)) {\r\n\r\n              $(\"#treeOrgan\").html(\"\");\r\n              organ.server.getTreeData();\r\n              layer.msg(\"数据删除成功!\", { icon: 6 });\r\n              form.val(\"PriceTypeFrom\", {\r\n                \"Coding\": \"\" // \"name\": \"value\"\r\n                ,\"Name\": \"\"\r\n                ,\"CompanyCoding\": \"\"\r\n                ,\"Status\": \"\"\r\n                ,\"MonthLimitGas\": \"\"\r\n                ,\"YearLimitGas\": \"\"\r\n                ,\"SortNum\": \"\"\r\n                ,\"Description\": \"\"\r\n              })\r\n            } else {\r\n              common.appResult.loadErrorText(res);\r\n            }\r\n          })\r\n          .fail(err => {\r\n            console.log(err);\r\n          });\r\n\r\n        }\r\n      },\r\n      render: {\r\n        renderTree: function(data) {\r\n          //树形渲染\r\n          layui.tree({\r\n            elem: \"#treeOrgan\", //指定元素\r\n            target: \"_blank\", //是否新选项卡打开（比如节点返回href才有效）\r\n            click: function(item) {\r\n              //console.info(item)\r\n              selectedType = item\r\n              form.val(\"PriceTypeFrom\", {\r\n                \"Coding\": selectedType.Coding // \"name\": \"value\"\r\n                ,\"Name\": selectedType.Name\r\n                ,\"CompanyCoding\": selectedType.CompanyCoding\r\n                ,\"Status\": selectedType.Status\r\n                ,\"MonthLimitGas\": selectedType.MonthLimitGas\r\n                ,\"YearLimitGas\": selectedType.YearLimitGas\r\n                ,\"SortNum\": selectedType.SortNum\r\n                ,\"Description\": selectedType.Description\r\n              })\r\n              var jiagebanbenTable = table.render({\r\n                elem: \"#LAY-jiagebanbenTable\",\r\n                id:\"LAY-jiagebanbenTable\",\r\n                url: layui.setter.baseUrl + \"/api/PriceDetail/query/list\", //接口\r\n                //response:layui.setter.response,\r\n                where:{\"CompanyCoding\":\"88888888\",\"Method\":\"list\"},\r\n                parseData:layui.setter.parseData,\r\n                request: {\r\n                  tokenName: false,\r\n                  pageName: \"PageIndex\",\r\n                  limitName: \"PageSize\"\r\n                },//layui.setter.request,\r\n                page:true,\r\n                cols: [\r\n                  [\r\n                    { field: \"PriceVersion\",  title: \"价格版本\" ,templet: function(d) {\r\n                        return d.Me.PriceVersion;\r\n                      }}, \r\n                    { field: \"IsLadder\",  title: \"是否有阶梯\" ,templet: function(d) {\r\n                        return d.Me.IsLadder? \"是\" : \"无\";\r\n                      }},\r\n                    { field: \"BasePrice\",  title: \"基础价格\" ,templet: function(d) {\r\n                        return d.Me.BasePrice;\r\n                      }},\r\n                     \r\n                    { field: \"LadderStartDatetime\", title: \"阶梯开始时间\",templet: function(d) {\r\n                        return \"<div>\" + layui.util.toDateString(d.LadderStartDatetime) + \"</div>\";\r\n                      } },\r\n                    { field: \"PriceStartDateTime\", title: \"价格开始时间\",templet: function(d) {\r\n                        return \"<div>\" + layui.util.toDateString(d.Me.PriceStartDateTime) + \"</div>\";\r\n                      } },\r\n                    {title: \"操作\",fixed: 'right', align:'center', toolbar: '#LAY-jiagebanbenTable-barOperation'}\r\n                  ]\r\n                ],\r\n                loading: true,\r\n                limit: 10,\r\n                text: \"对不起，加载出现异常！\"\r\n              });\r\n            },\r\n            nodes: data\r\n          });\r\n        },\r\n        renderTitle: function(flag) {\r\n          if (flag === \"roleCatalog\") {\r\n            $(\"#formTitle\").html(\"编辑角色信息分组\");\r\n          } else if (flag === \"roleInfo\") {\r\n            $(\"#formTitle\").html(\"编辑角色信息\");\r\n          }\r\n        },\r\n        showForm: function(id) {\r\n          $(\"#DepartmentFrom\").addClass(\"layui-hide\");\r\n          $(\"#staffFrom\").addClass(\"layui-hide\");\r\n          $(id).show();\r\n          $(id).removeClass(\"layui-hide\");\r\n        },\r\n        renderFormData: function(data) {\r\n          if (data.Flag === \"roleCatalog\") {\r\n            form.val(\"DepartmentFrom\", {\r\n              Name: data.Title\r\n            });\r\n          }\r\n        },\r\n        disabledBtton: function(flage) {\r\n          common.isDisableButton(\"#lower\", false);\r\n          common.isDisableButton(\"#upper\", false);\r\n          common.isDisableButton(\"#delet\", false);\r\n          if (flage === \"roleCatalog\") {\r\n            common.isDisableButton(\"#lower\", true);\r\n            common.isDisableButton(\"#upper\", true);\r\n            common.isDisableButton(\"#showDepartment\", false);\r\n            common.isDisableButton(\"#showStaff\", false);\r\n          } else if (flage === \"roleInfo\") {\r\n            common.isDisableButton(\"#showDepartment\", true);\r\n            common.isDisableButton(\"#showStaff\", true);\r\n          }\r\n        },\r\n        showtips: function() {\r\n          common.showtips(\".layui-btn-group button\");\r\n        },\r\n        openDeleteConfirm: function(data) {\r\n          layer.confirm(\r\n            \"你确定要删除<span style='font-weight:bolder'>\" +\r\n              data.Title +\r\n              \"</span>的节点吗?\",\r\n            {\r\n              btn: [\"确定\", \"取消\"], //按钮\r\n              icon: 3\r\n            },\r\n            function() {\r\n              organ.server.delet(data.Flag, data.Id);\r\n            },\r\n            function() {\r\n              console.log(\"取消\");\r\n            }\r\n          );\r\n        }\r\n      },\r\n      currData: {\r\n        getTreeNodeName: function(treeData, id) {\r\n          var title = common.getTreeNodeName(treeData, id, \"name\");\r\n          $(\".topName\").val(title);\r\n          $(\".submit\").html(\"立即修改\");\r\n        }\r\n      }\r\n    };\r\n    organ.init();\r\n  });\r\n"]}