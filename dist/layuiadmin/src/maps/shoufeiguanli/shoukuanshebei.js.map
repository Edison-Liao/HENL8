{"version":3,"sources":["shoufeiguanli/shoukuanshebei.js"],"names":["layui","config","base","extend","index","use","$","table","common","form","shebeiPar","laypage","baseUrl","setter","revenueUrl","render","elem","id","url","where","Method","parseData","request","cols","type","fixed","field","title","templet","d","Me","Id","Name","page","loading","limit","align","text","FixedUserFlag","Status","departments","department","position","assistant","pca","Data.CompanyCoding","width","Coding","Mac","FixedUser_Name","SortNum","Description","sort","util","toDateString","CreateDate","toolbar","keys","ckeys","init","province","city","area","initprovince","initcity","initarea","length","html","append","i","Title","formRender","on","data","cs","value","Children","find","attr","next","removeClass","click","formHidden","console","info","val","FixedUser_Id","obj","shoukuanSeverEvent","add","para","layer","closeAll","load","shade","dataBean","consts","basePostData","Data","str1","JSON","stringify","ajax","async","dataType","headers","Accept","Content-Type","success","IsSucceed","msg","icon","reload","each","this","Errors","Message","error","err","delete","edit","BusinessHall_Name","res","Result","open","content","maxmin","btn","yes","layero","submit","BusinessHall_Id","CompanyCoding","close","trigger","CompanyName","findObjectByKeyVal","ParentId","removeAttr","active","batchdel","checkStatus","checkData","confirm","TreeNodes","Idd","call","offset","zIndex","checked","layEvent","event","tr","re"],"mappings":"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","file":"../../../shoufeiguanli/shoukuanshebei.js","sourcesContent":["layui\r\n  .config({\r\n    base: \"../../../layuiadmin/\" //静态资源所在路径\r\n  })\r\n  .extend({\r\n    index: \"lib/index\" //主入口模块\r\n  })\r\n  .use([\"index\", \"table\",'consts','common'], function() {\r\n    \r\n    var $ = layui.$,\r\n    table = layui.table,\r\n    common = layui.common\r\n    form = layui.form;\r\n    var laypage = layui.laypage;\r\n    var option = {\r\n      baseUrl:layui.setter.revenueUrl\r\n    }\r\n    var wangdianTable = table.render({\r\n      elem: \"#LAY-yingyewangdian_SKTable\",\r\n      id:\"LAY-yingyewangdian_SKTable\",\r\n      url: layui.setter.revenueUrl + \"/api/BusinessHall/query/list\", //接口\r\n      //response:layui.setter.response,\r\n      where:{\"Method\":\"list\"},\r\n      parseData:layui.setter.parseData,\r\n      request: layui.setter.request,\r\n      cols: [\r\n        [\r\n          {type: 'radio', fixed: 'left'},\r\n          {\r\n            field: \"Id\",\r\n            title: \"营业网点ID\",templet: function(d) {\r\n              return d.Me.Id;\r\n            }\r\n          },\r\n          { field: \"Name\",  title: \"营业网点名称\",templet: function(d) {\r\n              return d.Me.Name;\r\n            } },\r\n        ]\r\n      ],\r\n      page:true,\r\n      loading: true,\r\n      limit: 10,\r\n  \r\n      align:\"center\",\r\n      text: \"对不起，加载出现异常！\"\r\n    });\r\n    var shebeiPar={FixedUserFlag: false,\r\n                   Status:2,\r\n    }\r\n    var departments = {}\r\n    var department = {}\r\n    var position = {}\r\n    var assistant = {}\r\n    //用户管理表格渲染\r\n    var shoukuanshebeiTable = table.render({\r\n      elem: \"#LAY-shoukuanmanageTable\",\r\n      id:\"LAY-shoukuanmanageTable\",\r\n      url: layui.setter.revenueUrl + \"/api/BusinessHallDevice/query/list\", //接口\r\n      where:{\"Data.CompanyCoding\":\"88888888\",\"Method\":\"list\"},\r\n      parseData:layui.setter.parseData,\r\n      request: layui.setter.request,\r\n      page:true,\r\n      cols: [\r\n        [\r\n          { field: \"BusinessHall_Name\", title: \"营业网点名称\", width: 100, },\r\n          { field: \"StatusName\", title: \"设备状态\" },\r\n          { field: \"Coding\",  title: \"设备编码\",templet: function(d) {\r\n              return d.Me.Coding;\r\n            } },\r\n          { field: \"Name\",  title: \"设备名称\",templet: function(d) {\r\n              return d.Me.Name;\r\n            } },\r\n          { field: \"Mac\",  title: \"特征标识（MAC）\",\r\n            templet: function(d) {\r\n              return d.Me.Mac;\r\n            }},\r\n          { field: \"FixedUserFlag\",  title: \"指定营业员\",templet: function(d) {\r\n              return d.Me.FixedUserFlag;\r\n            } },\r\n          { field: \"FixedUser_Name\",  title: \"指定营业员名称\",templet: function(d) {\r\n              return d.Me.FixedUser_Name;\r\n            } },\r\n          { field: \"SortNum\",  title: \"排序号\",templet: function(d) {\r\n              return d.Me.SortNum;\r\n            } },\r\n          { field: \"Description\",  title: \"描述\",templet: function(d) {\r\n              return d.Me.Description;\r\n            } },\r\n          {\r\n            field: \"CreateDate\",\r\n            title: \"建档日期\",\r\n            sort: true,\r\n            templet: function(d) {\r\n              return \"<div>\" + layui.util.toDateString(d.Me.CreateDate) + \"</div>\";\r\n            }\r\n          },\r\n          {\r\n            field: \"ModifyDate\",\r\n            title: \"更新日期\",\r\n            sort: true,\r\n            templet: function(d) {\r\n              return \"<div>\" + layui.util.toDateString(d.Me.CreateDate) + \"</div>\";\r\n            }\r\n          },\r\n          {\r\n            title: \"操作\",\r\n            align: \"center\",\r\n            width:160,\r\n            toolbar: '#LAY-shebeiTable-barOperation'\r\n          }\r\n        ]\r\n      ],\r\n      loading: true,\r\n   \r\n      limit: 10,\r\n      text: \"对不起，加载出现异常！\"\r\n    });\r\n\r\n    \r\n    var pca = {};\r\n  \r\n    pca.keys = {};\r\n    pca.ckeys = {};\r\n    \r\n    pca.init = function(province, city, area, initprovince, initcity, initarea){//jQuery选择器, 省-市-区\r\n      if(!province || !$(province).length) return; \r\n      $(province).html('');\r\n      $(province).append('<option selected>全部</option>');\r\n      for(var i in departments){\r\n        $(province).append('<option  &nbsp; id='+departments[i].Id+' &nbsp; value='+departments[i].Title+'>'+departments[i].Title+'</option>');\r\n        pca.keys[departments[i].Title] = departments[i];\r\n      }\r\n      form.render('select');\r\n      if(!city || !$(city).length) return;\r\n      pca.formRender(city);\r\n      form.on('select(province)', function(data){\r\n        \r\n          var cs = pca.keys[data.value].Children;\r\n          $(city).html('');\r\n          $(city).append('<option>全部</option>');\r\n          if(cs){\r\n            for(var i in cs){\r\n              $(city).append('<option &nbsp;  id='+cs[i].Id+' &nbsp;  value='+cs[i].Title+'>'+cs[i].Title+'</option>');\r\n              pca.ckeys[cs[i].Title] = cs[i];\r\n            }\r\n            $(city).find('option:eq(1)').attr('selected', true);\r\n          }\r\n        form.render('select');\r\n        $(city).next().find('.layui-this').removeClass('layui-this').click();\r\n        pca.formHidden('province', data.value);\r\n        $('.pca-label-province').html(data.value);//此处可以自己修改 显示的位置, 不想显示可以直接去掉\r\n      }); \r\n      \r\n      if(!area || !$(area).length) return;\r\n      pca.formRender(area);\r\n      form.on('select(city)', function(data){\r\n          var cs = pca.ckeys[data.value];\r\n\r\n          $(area).html('');\r\n          $(area).append('<option>全部</option>');\r\n          if(cs){\r\n            cs = cs.Children;\r\n          for(var i in cs){\r\n            console.info(cs[i].Id)\r\n            $(area).append('<option &nbsp; id='+cs[i].Id+' &nbsp; value='+cs[i].Title+'>'+cs[i].Title+'</option>');\r\n          }\r\n          $(area).find('option:eq(1)').attr('selected', true);\r\n          }\r\n        form.render('select');\r\n        $(area).next().find('.layui-this').removeClass('layui-this').click();\r\n        pca.formHidden('city', data.value);\r\n        $('.pca-label-city').html(data.value);  //此处可以自己修改 显示的位置, 不想显示可以直接去掉\r\n      }); \r\n      form.on('select(area)', function(data){\r\n        //console.info($(\"#area option[selected='selected']\").attr('id'))\r\n        //console.info($(\"#area option[selected='selected']\").val())\r\n        shebeiPar.FixedUser_Name = $(\"#area option[selected='selected']\").val();\r\n        shebeiPar.FixedUser_Id = $(\"#area option[selected='selected']\").attr('id');\r\n        \r\n        pca.formHidden('area', data.value);   \r\n        $('.pca-label-area').html(data.value);  //此处可以自己修改 显示的位置, 不想显示可以直接去掉\r\n      }); \r\n    }\r\n\r\n    pca.formRender = function(obj){\r\n      $(obj).html('');\r\n      $(obj).append('<option>全部</option>');\r\n      form.render('select');\r\n    }\r\n    \r\n    pca.formHidden = function(obj, val){\r\n      if(!$('#pca-hide-'+obj).length) \r\n        $('body').append('<input id=\"pca-hide-'+obj+'\" type=\"hidden\" value=\"'+val+'\" />');\r\n      else\r\n        $('#pca-hide-'+obj).val(val);\r\n    }\r\n\r\n    //服务交互\r\n    var shoukuanSeverEvent = {\r\n      add: function(para) {\r\n        layer.closeAll();\r\n        layer.load(0, { shade: false });\r\n        var dataBean = layui.consts.basePostData();\r\n        dataBean.Data = para;\r\n        dataBean.Method=\"insert\";\r\n        var str1 = JSON.stringify(dataBean);\r\n        if(dataBean.Data.FixedUserFlag){\r\n          if(!dataBean.Data.FixedUser_Id || !dataBean.Data.FixedUser_Name){\r\n            layer.closeAll();\r\n            layer.msg(\"营业员未选择, 请选择固定营业员或取消指定营业员 \", { icon: 5 });\r\n          }else{\r\n            console.info(\"营业员已选择\")\r\n            $.ajax({\r\n              type: \"Post\",\r\n              url: layui.setter.revenueUrl + \"/api/BusinessHallDevice/insert\",\r\n              data: str1,\r\n              async: true,\r\n              dataType: \"json\",\r\n              headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\"\r\n              },\r\n              success: function(data) {\r\n                layer.closeAll();\r\n                if (data.IsSucceed) {\r\n                  layer.msg(\"添加设备成功!\", { icon: 6 });\r\n                  table.reload(\"LAY-shoukuanmanageTable\");\r\n                  $(\"#lock-from\").find('input[type=text],select,input[type=hidden]').each(function() {\r\n                   $(this).val('');\r\n                  });\r\n                } else {\r\n                  table.reload(\"LAY-shoukuanmanageTable\");\r\n                  layer.msg(\"添加设备数据失败: \" + data.Errors[0].Message, { icon: 5 });\r\n                }\r\n              },\r\n              error: function(err) {\r\n                layer.closeAll();\r\n                layer.msg(\"数据操作失败\", { icon: 5 });\r\n              }\r\n            });\r\n          }\r\n        }else{\r\n          console.info(\"营业员为空\")\r\n            $.ajax({\r\n              type: \"Post\",\r\n              url: layui.setter.revenueUrl + \"/api/BusinessHallDevice/insert\",\r\n              data: str1,\r\n              async: true,\r\n              dataType: \"json\",\r\n              headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\"\r\n              },\r\n              success: function(data) {\r\n                layer.closeAll();\r\n                if (data.IsSucceed) {\r\n                  layer.msg(\"添加设备成功!\", { icon: 6 });\r\n                  layer.closeAll();\r\n                  table.reload(\"LAY-shoukuanmanageTable\");\r\n                  $(\"#lock-from\").find('input[type=text],select,input[type=hidden]').each(function() {\r\n                   $(this).val('');\r\n              });\r\n                } else {\r\n                  table.reload(\"LAY-shoukuanmanageTable\");\r\n                  layer.msg(\"添加设备数据失败: \" + data.Errors[0].Message, { icon: 5 });\r\n                }\r\n              },\r\n              error: function(err) {\r\n                layer.closeAll();\r\n                layer.msg(\"数据操作失败\", { icon: 5 });\r\n              }\r\n            });\r\n          }\r\n        \r\n      },\r\n      delete: function(para) {\r\n        layer.closeAll();\r\n        layer.load(0, { shade: false });\r\n        var dataBean = layui.consts.basePostData();\r\n        dataBean.Data = {\"Id\":para.Me.Id}\r\n        dataBean.Method = \"remove\"\r\n        var str1 = JSON.stringify(dataBean);\r\n        console.info(str1)\r\n        $.ajax({\r\n          type: \"delete\",\r\n          url: layui.setter.revenueUrl + \"/api/BusinessHallDevice/remove\",\r\n          async: true,\r\n          data: str1,\r\n          dataType: \"json\",\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n          },\r\n          success: function(data) {\r\n            layer.closeAll();\r\n            if (data.IsSucceed) {\r\n              layer.msg(\"删除营业设备成功!\", { icon: 6 });\r\n              table.reload(\"LAY-shoukuanmanageTable\");\r\n            } else {\r\n              table.reload(\"LAY-yingyewangdianTable\");\r\n              layer.msg(\"删除失败: \" + data.Errors[0].Message, { icon: 5 });\r\n            }\r\n          },\r\n          error: function(err) {\r\n            layer.closeAll();\r\n            layer.msg(\"数据操作失败\", { icon: 5 });\r\n          }\r\n        });\r\n      },\r\n      edit: function(para) {\r\n      //console.info(para)\r\n      $.ajax({\r\n        type: \"get\",\r\n        url:\r\n        layui.setter.revenueUrl + \"/api/BusinessHallDevice/query/key?Data.key=\"+para.Me.Id+\"&Method=key\",\r\n        async: true,\r\n        success: function(data) {\r\n          console.info(para.BusinessHall_Name)\r\n          if (data.IsSucceed) {\r\n            var res = data.Result.Me\r\n            layer.open({\r\n              type: 1,\r\n              title: \"修改收款设备\",\r\n              content: $('#lock-from'),\r\n              maxmin: true,\r\n              area: [\"700px\", \"400px\"],\r\n              btn: [\"确定\", \"取消\"],\r\n              yes: function(index, layero) {\r\n                var submit = $(\"#LAY-shebei-add-submit\");\r\n                //获取提交的字段\r\n                //监听提交\r\n                form.on('submit(LAY-shebei-add-submit)', function (data) {\r\n                  var field = data.field; //获取提交的字段\r\n                  //提交 Ajax 成功后，静态更新表格中的数据\r\n                  var dataBean = layui.consts.basePostData();\r\n                  dataBean.Data = field;\r\n                  dataBean.Data.BusinessHall_Id = res.BusinessHall_Id;\r\n                  dataBean.Data.BusinessHall_Name = para.BusinessHall_Name;\r\n                  dataBean.Data.Id = res.Id;\r\n                  dataBean.Data.Status = field.Status == \"on\"? 1 : 2;\r\n                  dataBean.Data.CompanyCoding = \"88888888\";\r\n                  dataBean.Data.FixedUserFlag = field.FixedUserFlag == \"on\"? true : false;\r\n                  dataBean.Data.FixedUser_Id = shebeiPar.FixedUser_Id;\r\n                  dataBean.Data.FixedUser_Name = shebeiPar.FixedUser_Name;\r\n                  dataBean.Method=\"update\";\r\n                  delete dataBean.Data[\"P1\"]\r\n                  delete dataBean.Data[\"C1\"]\r\n                  delete dataBean.Data[\"A1\"]\r\n                  delete dataBean.Data[\"layTableRadio_1\"]\r\n                  var str1 = JSON.stringify(dataBean);\r\n                  //console.info(\"data\", str1)\r\n                  \r\n                  $.ajax({\r\n                    type: \"Put\",\r\n                    url: layui.setter.revenueUrl + \"/api/BusinessHallDevice/update\",\r\n                    data: str1,\r\n                    async: true,\r\n                    dataType: \"json\",\r\n                    headers: {\r\n                      Accept: \"application/json\",\r\n                      \"Content-Type\": \"application/json\"\r\n                    },\r\n                    success: function(data) {\r\n                      layer.closeAll();\r\n                      \r\n                      if (data.IsSucceed) {\r\n                        layer.msg(\"修改营业网点成功!\", { icon: 6 });\r\n                        table.reload(\"LAY-shoukuanmanageTable\");\r\n                        $(\"#lock-from\").find('input[type=text],select,input[type=hidden]').each(function() {\r\n                             $(this).val('');\r\n                        });\r\n                      } else {\r\n                        table.reload(\"LAY-shoukuanmanageTable\");\r\n                        layer.msg(\"失败: \" + data.Errors[0].Message, { icon: 5 });\r\n                      }\r\n                    },\r\n                    error: function(err) {\r\n                      layer.closeAll();\r\n                      layer.msg(\"数据操作失败\", { icon: 5 });\r\n                    }\r\n                  });\r\n                  \r\n                  layer.close(index); //关闭弹层\r\n                });\r\n\r\n                submit.trigger(\"click\");\r\n              }\r\n            });\r\n            form.val(\"lock-from\", {\r\n              \"Coding\": res.Coding // \"name\": \"value\"\r\n              ,\"Name\": res.Name\r\n              ,\"CompanyCoding\": res.CompanyCoding\r\n              ,\"CompanyName\": res.CompanyName\r\n              ,\"Mac\": res.Mac\r\n              ,\"SortNum\":res.SortNum\r\n              ,\"Status\": res.Status ==1 ? true : false\r\n              ,\"Description\": res.Description\r\n              ,\"FixedUser_Id\":res.FixedUser_Id\r\n              ,\"FixedUser_Name\":res.FixedUser_Name\r\n              ,\"FixedUserFlag\":res.FixedUserFlag\r\n              ,\"Id\":res.Id\r\n              ,\"BusinessHall_Id\":res.BusinessHall_Id\r\n              ,\"BusinessHall_Name\":para.BusinessHall_Name\r\n            })\r\n            \r\n            if(res.FixedUserFlag){\r\n              assistant = common.findObjectByKeyVal(departments,\"Title\",res.FixedUser_Name)\r\n              //console.info(assistant)\r\n              position = common.findObjectByKeyVal(departments,\"Id\",assistant.ParentId)\r\n              //console.info(position)\r\n              department = common.findObjectByKeyVal(departments,\"Id\",position.ParentId)\r\n              console.info(department.Title,position.Title,assistant.Title)\r\n              $(\"#province\").removeAttr(\"disabled\");  \r\n              $(\"#city\").removeAttr(\"disabled\"); \r\n              $(\"#area\").removeAttr(\"disabled\"); \r\n              $(province).html('');\r\n              $(province).append('<option selected>全部</option>');\r\n              for(var i in departments){\r\n                $(province).append('<option  &nbsp; id='+departments[i].Id+' &nbsp; value='+departments[i].Title+'>'+departments[i].Title+'</option>');\r\n              }\r\n              $(province).find(\"option[value='\"+department.Title+\"']\").attr('selected', true); \r\n              form.render('select');\r\n              //选择职位下拉框\r\n              $(city).html('');\r\n              $(city).append('<option>全部</option>');\r\n              var cs = department.Children\r\n              if(cs){\r\n                for(var i in cs){\r\n                  $(city).append('<option &nbsp;  id='+cs[i].Id+' &nbsp;  value='+cs[i].Title+'>'+cs[i].Title+'</option>');\r\n                }\r\n                $(city).find(\"option[value='\"+position.Title+\"']\").attr('selected', true); \r\n              }\r\n              form.render('select');\r\n              $(city).next().find('.layui-this').removeClass('layui-this').click();\r\n              pca.formHidden('province', data.value);\r\n              $('.pca-label-province').html(data.value);//此处可以自己修改 显示的位置, 不想显示可以直接去掉\r\n              \r\n              //选择营业员下拉框\r\n              $(area).html('');\r\n                $(area).append('<option>全部</option>');\r\n              cs = position.Children\r\n                if(cs){\r\n                  for(var i in cs){\r\n                    console.info(cs[i].Id)\r\n                    $(area).append('<option &nbsp; id='+cs[i].Id+' &nbsp; value='+cs[i].Title+'>'+cs[i].Title+'</option>');\r\n                  }\r\n                  $(area).find(\"option[value='\"+assistant.Title+\"']\").attr('selected', true); \r\n                }\r\n              form.render('select');\r\n              $(area).next().find('.layui-this').removeClass('layui-this').click();\r\n              pca.formHidden('city', data.value);\r\n              $('.pca-label-city').html(data.value);  //此处可以自己修改 显示的位置, 不想显示可以直接去掉\r\n              \r\n            }else{\r\n              $(\"#province\").attr(\"disabled\",\"disabled\");\r\n              $(\"#city\").attr(\"disabled\",\"disabled\");\r\n              $(\"#area\").attr(\"disabled\",\"disabled\");\r\n              pca.init('select[name=P1]', 'select[name=C1]', 'select[name=A1]');\r\n              form.render('select');\r\n            }\r\n          } else {\r\n            layer.msg(\"失败\" + res.Errors[0].Description, { icon: 5 });\r\n          }\r\n        },\r\n        error: function(err) {\r\n          layer.closeAll();\r\n          layer.msg(\"数据加载失败\", { icon: 5 });\r\n        }\r\n      });\r\n      }\r\n    };\r\n    //事件\r\n    var active = {\r\n      batchdel: function() {\r\n        var checkStatus = table.checkStatus(\"LAY-user-manage\"),\r\n          checkData = checkStatus.data; //得到选中的数据\r\n        if (checkData.length === 0) {\r\n          return layer.msg(\"请选择数据\");\r\n        }\r\n        layer.close(index);\r\n        layer.confirm(\"确定删除吗？\", function(index) {\r\n          table.reload(\"LAY-user-manage\");\r\n          layer.msg(\"已删除\");\r\n        });\r\n      },\r\n      add: function() {\r\n        $.ajax({\r\n          type: \"Get\",\r\n          url: layui.setter.baseUrl + \"/api/Organ/treeview\", \r\n          async: true,\r\n          headers: {\r\n            Accept: \"application/json, text/javascript, */*; q=0.01\",\r\n          },\r\n          success: function(data) {\r\n            \r\n            //console.log(data);\r\n            if (data.IsSucceed) {\r\n              departments = data.Result.TreeNodes[0].Children\r\n              \r\n              pca.init('select[name=P1]', 'select[name=C1]', 'select[name=A1]');\r\n              form.render('select');\r\n              //$(\"#BusinessHall_Name\").append(\"<option value=\"+data.Id+\">\"+data.Name+\"</option>\");\r\n            } \r\n          },\r\n          error: function(err) {\r\n            \r\n            layer.msg(\"数据操作失败\", { icon: 5 });\r\n          }\r\n        });\r\n        table.reload(\"LAY-yingyewangdian_SKTable\");\r\n\r\n        layer.open({\r\n          type: 1,\r\n          title: \"添加设备\",\r\n          content: $('#lock-from'),\r\n          maxmin: true,\r\n          area: [\"800px\", \"500px\"],\r\n          btn: [\"确定\", \"取消\"],\r\n          yes: function(index, layero) {\r\n            var submit = $(\"#LAY-shebei-add-submit\");\r\n            \r\n            //获取提交的字段\r\n            //监听提交\r\n            form.on('submit(LAY-shebei-add-submit)', function (data) {\r\n              var field = data.field; //获取提交的字段\r\n              //\r\n              //提交 Ajax 成功后，静态更新表格中的数据\r\n              //$.ajax({});\r\n              \r\n              $.ajax({\r\n                type: \"get\",\r\n                url: layui.setter.revenueUrl + \"/api/Common/GetInsertGuid\",\r\n                async: true,\r\n                dataType: \"json\",\r\n                headers: {\r\n                  Accept: \"application/json\",\r\n                  \"Content-Type\": \"application/json\"\r\n                },\r\n                success: function(data) {\r\n                  if (data.IsSucceed) {\r\n                    shebeiPar.Idd = data.Result;\r\n                    shebeiPar.Mac = field.Mac;\r\n                    shebeiPar.Coding = field.Coding;\r\n                    shebeiPar.Description = field.Description;\r\n\r\n                    shebeiPar.Name = field.Name;\r\n                    shebeiPar.SortNum = field.SortNum;\r\n                    shebeiPar.Coding = field.Coding;\r\n                    shebeiPar.Status = field.Status == \"on\"? 1 :2;\r\n                    //shebeiPar.Description = field.Description;\r\n                    console.info(\"shebeiPar: \", shebeiPar)\r\n                    shoukuanSeverEvent.add(shebeiPar);\r\n                    layer.close(index); //关闭弹层\r\n                  } else {\r\n                    layer.msg(\"设备数据失败\" + data.Errors[0].Message, { icon: 5 });\r\n                  }\r\n                },\r\n                error: function(err) {\r\n                  layer.closeAll();\r\n                  layer.msg(\"数据操作失败\", { icon: 5 });\r\n                }\r\n              });\r\n              layer.close(index); //关闭弹层\r\n            });\r\n\r\n            submit.trigger(\"click\");\r\n          }\r\n        });\r\n        \r\n      }\r\n    };\r\n\r\n    $(\".layui-btn.layuiadmin-btn-shoukuanAdd\").on(\"click\", function() {\r\n      var type = $(this).data(\"type\");\r\n      active[type] ? active[type].call(this) : \"\";\r\n    });\r\n    /*\r\n    form.on('switch(status)', function(data){\r\n      //console.log(data.elem); //得到checkbox原始DOM对象\r\n      //console.log(data.elem.checked); //开关是否开启，true或者false\r\n      //console.log(data.value); //开关value值，也可以通过data.elem.value得到\r\n      shebeiPar.statue = data.elem.checked\r\n    }); \r\n    */\r\n    $(\".layui-btn.LAY-wangdian-search-submit\").on(\"click\", function(data){\r\n      layer.open({\r\n          type: 1,\r\n          title: \"查询营业网点\",\r\n          content: $('#lock-from-BusinessHall'),\r\n          maxmin: true,\r\n          offset: 'auto',\r\n          zIndex :999999999,\r\n          area: [\"800px\", \"500px\"],\r\n          btn: [\"确定\", \"取消\"],\r\n          yes: function(index, layero) {\r\n            console.info(shebeiPar.BusinessHall_Name)\r\n            //$(\"#BusinessHall_Name\").attr({value:shebeiPar.BusinessHall_Name});\r\n            form.val(\"lock-from\", {\r\n              \"BusinessHall_Name\": shebeiPar.BusinessHall_Name // \"name\": \"value\"\r\n            })\r\n            layer.close(index);\r\n          }\r\n      });\r\n    });\r\n\r\n    form.on('switch(FixedUserFlag)', function(data){\r\n      //console.log(data.elem); //得到checkbox原始DOM对象\r\n      //console.log(data.elem.checked); //开关是否开启，true或者false\r\n      //console.log(data.value); //开关value值，也可以通过data.elem.value得到\r\n      shebeiPar.FixedUserFlag = data.elem.checked;\r\n      if(shebeiPar.FixedUserFlag){\r\n        $(\"#province\").removeAttr(\"disabled\");  \r\n        $(\"#city\").removeAttr(\"disabled\"); \r\n        $(\"#area\").removeAttr(\"disabled\");   \r\n      }else{\r\n        $(\"#province\").attr(\"disabled\",\"disabled\");\r\n        $(\"#city\").attr(\"disabled\",\"disabled\");\r\n        $(\"#area\").attr(\"disabled\",\"disabled\");\r\n      }\r\n      form.render('select');\r\n    }); \r\n\r\n    table.on('radio(LAY-yingyewangdian_SKTable)', function(data){\r\n      console.info(data.data)\r\n      var res = data.data.Me\r\n      shebeiPar.BusinessHall_Id = res.Id;\r\n      shebeiPar.BusinessHall_Name = res.Name;\r\n    }); \r\n\r\n    table.on('tool()', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter=\"对应的值\"\r\n      var data = obj.data; //获得当前行数据\r\n      var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）\r\n      var tr = obj.tr; //获得当前行 tr 的DOM对象\r\n      if(layEvent === 'del'){ //删除\r\n        layer.confirm('真的删除行么', function(index){\r\n          shoukuanSeverEvent.delete(data); //删除对应行（tr）的DOM结构，并更新缓存\r\n          layer.close(index);\r\n          //向服务端发送删除指令\r\n        });\r\n      } else if(layEvent === 'edit'){ //编辑\r\n        //do something\r\n        $.ajax({\r\n          type: \"Get\",\r\n          url: layui.setter.baseUrl + \"/api/Organ/treeview\", \r\n          async: true,\r\n          headers: {\r\n            Accept: \"application/json, text/javascript, */*; q=0.01\",\r\n          },\r\n          success: function(re) {\r\n            if (re.IsSucceed) {\r\n              departments = re.Result.TreeNodes[0].Children\r\n              //console.info(departments)\r\n              \r\n              console.info(data)\r\n              shoukuanSeverEvent.edit(data)\r\n              //pca.init('select[name=P1]', 'select[name=C1]', 'select[name=A1]');\r\n              //form.render('select');\r\n              //$(\"#BusinessHall_Name\").append(\"<option value=\"+data.Id+\">\"+data.Name+\"</option>\");\r\n            } \r\n          },\r\n          error: function(err) {\r\n            \r\n            layer.msg(\"数据操作失败\", { icon: 5 });\r\n          }\r\n        });\r\n       \r\n      }\r\n    });\r\n\r\n  });\r\n"]}