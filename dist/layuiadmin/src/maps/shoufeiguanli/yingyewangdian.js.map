{"version":3,"sources":["shoufeiguanli/yingyewangdian.js"],"names":["layui","config","base","extend","index","use","$","table","common","form","departments","department","position","assistant","shebeiPar","wangdianSeverEvent","laypage","render","elem","id","url","setter","revenueUrl","where","Method","parseData","request","page","cols","field","title","templet","d","Me","Coding","Name","Addr","Tels","WorkTimeInfo","LeaderName","Description","util","toDateString","CreateDate","ModifyDate","fixed","align","width","toolbar","loading","limit","text","add","data","layer","closeAll","load","shade","dataBean","consts","basePostData","console","info","P1","A1","C1","Data","FixedUser_Name","LeaderID","FixedUser_Id","str1","JSON","stringify","ajax","type","async","dataType","headers","Accept","Content-Type","success","IsSucceed","msg","icon","reload","find","each","this","val","Errors","Message","error","err","delete","para","Id","detail","time","open","content","html","maxmin","area","btn","yes","layero","close","res","edit","Result","submit","on","Date","trigger","CompanyCoding","SortNum","findObjectByKeyVal","ParentId","Title","province","append","i","attr","city","cs","Children","next","removeClass","click","pca","formHidden","value","init","active","batchdel","checkStatus","checkData","length","confirm","baseUrl","TreeNodes","Idd","keys","ckeys","initprovince","initcity","initarea","formRender","obj","call","layEvent","event","tr","re"],"mappings":"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","file":"../../../shoufeiguanli/yingyewangdian.js","sourcesContent":["layui\r\n  .config({\r\n    base: \"../../../layuiadmin/\" //静态资源所在路径\r\n  })\r\n  .extend({\r\n    index: \"lib/index\" //主入口模块\r\n  })\r\n  .use([\"index\", \"table\", \"form\",'consts',\"common\"], function() {\r\n    \r\n    var $ = layui.$,\r\n    table = layui.table,\r\n    common = layui.common,\r\n    form = layui.form;\r\n    var departments = {}\r\n    var department = {}\r\n    var position = {}\r\n    var assistant = {}\r\n    var shebeiPar = {}\r\n    var laypage = layui.laypage;\r\n    //用户管理表格渲染\r\n    var yingyewangdianTable = table.render({\r\n      elem: \"#LAY-yingyewangdianTable\",\r\n      id:\"LAY-yingyewangdianTable\",\r\n      url: layui.setter.revenueUrl + \"/api/BusinessHall/query/list\", //接口\r\n      //response:layui.setter.response,\r\n      where:{\"Method\":\"list\"},\r\n      parseData:layui.setter.parseData,\r\n      request: layui.setter.request,\r\n      page:true,\r\n      cols: [\r\n        [\r\n          { field: \"Coding\", title: \"营业网点编码\" ,templet: function(d) {\r\n              return d.Me.Coding;\r\n            }},\r\n          { field: \"Name\",  title: \"营业网点名称\" ,templet: function(d) {\r\n              return d.Me.Name;\r\n            }},\r\n          { field: \"Addr\", title: \"营业地址\",templet: function(d) {\r\n              return d.Me.Addr;\r\n            } },\r\n          { field: \"Tels\", title: \"联系电话\",templet: function(d) {\r\n              return d.Me.Tels;\r\n            } },\r\n          { field: \"WorkTimeInfo\",  title: \"营业时间\" ,templet: function(d) {\r\n              return d.Me.WorkTimeInfo;\r\n            }},\r\n          { field: \"LeaderName\", title: \"主管操作员\",templet: function(d) {\r\n              return d.Me.LeaderName;\r\n            } },\r\n          { field: \"Description\",  title: \"描述\" ,templet: function(d) {\r\n              return d.Me.Description;\r\n            }},\r\n\r\n          { field: \"CreateDate\", title: \"创建时间\",templet: function(d) {\r\n              return \"<div>\" + layui.util.toDateString(d.Me.CreateDate) + \"</div>\";\r\n            } },\r\n          { field: \"ModifyDate\", title: \"修改时间\",templet: function(d) {\r\n              return \"<div>\" + layui.util.toDateString(d.Me.ModifyDate) + \"</div>\";\r\n            } },\r\n          \r\n          //{ field: \"caozuoyuan\",  title: \"主管操作员\" },\r\n          //{ field: \"dizhi\",  title: \"营业网点地址\" ,width: 180},\r\n          //{ field: \"dianhua\",  title: \"联系电话\" },\r\n          //{ field: \"gongzuoshijian\",  title: \"办公时间\" },\r\n          //{ field: \"sex\",  title: \"排序号\" },\r\n          /*\r\n          { field: \"Creator\",  title: \"建档人\" },\r\n          {\r\n            field: \"CreateDate\",\r\n            title: \"建档日期\",\r\n            width: 120,\r\n            sort: true,\r\n            templet: function(d) {\r\n              return \"<div>\" + layui.util.toDateString(d.CreateDate) + \"</div>\";\r\n            }\r\n          },\r\n          { field: \"Updator\",  title: \"更新人\" },\r\n          {\r\n            field: \"UpdateDate\",\r\n            title: \"更新日期\",\r\n            width: 120,\r\n            sort: true,\r\n            templet: function(d) {\r\n              return \"<div>\" + layui.util.toDateString(d.CreateDate) + \"</div>\";\r\n            }\r\n          },\r\n          */\r\n          {title: \"操作\",fixed: 'right', align:'center', width:160, toolbar: '#LAY-yingyewangdianTable-barOperation'}\r\n          \r\n        ]\r\n      ],\r\n      loading: true,\r\n      limit: 10,\r\n      text: \"对不起，加载出现异常！\"\r\n    });\r\n\r\n  //分页\r\n    //监听搜索\r\n    /*\r\n    form.on(\"submit(LAY-user-front-search)\", function(data) {\r\n      var field = data.field;\r\n      //执行重载\r\n      table.reload(\"LAY-user-manage\", {\r\n        where: field\r\n      });\r\n    });\r\n    */\r\n\r\n    //服务交互\r\n    var wangdianSeverEvent = {\r\n      add: function(data) {\r\n        layer.closeAll();\r\n        layer.load(0, { shade: false });\r\n        var dataBean = layui.consts.basePostData();\r\n        console.info(data)\r\n        delete(data.P1) \r\n        delete(data.A1)\r\n        delete(data.C1)\r\n\r\n        dataBean.Data = data;\r\n        dataBean.Data.LeaderName = shebeiPar.FixedUser_Name ? shebeiPar.FixedUser_Name:\"\";\r\n        dataBean.Data.LeaderID = shebeiPar.FixedUser_Id ? shebeiPar.FixedUser_Id:\"\";\r\n        dataBean.Method=\"insert\";\r\n        var str1 = JSON.stringify(dataBean);\r\n        console.info(\"data\", str1)\r\n        $.ajax({\r\n          type: \"Post\",\r\n          url: layui.setter.revenueUrl + \"/api/BusinessHall/insert\",\r\n          data: str1,\r\n          async: true,\r\n          dataType: \"json\",\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n          },\r\n          success: function(data) {\r\n            layer.closeAll();\r\n            \r\n            if (data.IsSucceed) {\r\n              layer.msg(\"添加营业网点成功!\", { icon: 6 });\r\n              table.reload(\"LAY-yingyewangdianTable\");\r\n              $(\"#lock-from\").find('input[type=text],select,input[type=hidden]').each(function() {\r\n                   $(this).val('');\r\n              });\r\n            } else {\r\n              table.reload(\"LAY-yingyewangdianTable\");\r\n              layer.msg(\"失败: \" + data.Errors[0].Message, { icon: 5 });\r\n            }\r\n          },\r\n          error: function(err) {\r\n            layer.closeAll();\r\n            layer.msg(\"数据操作失败\", { icon: 5 });\r\n          }\r\n        });\r\n        table.reload(\"LAY-yingyewangdianTable\");\r\n      },\r\n      delete: function(para) {\r\n        layer.closeAll();\r\n        layer.load(0, { shade: false });\r\n        var dataBean = layui.consts.basePostData();\r\n        dataBean.Data = {\"Id\":para.Me.Id}\r\n        dataBean.Method = \"remove\"\r\n        var str1 = JSON.stringify(dataBean);\r\n        $.ajax({\r\n          type: \"delete\",\r\n          url: layui.setter.revenueUrl + \"/api/BusinessHall/Remove/\",\r\n          async: true,\r\n          data: str1,\r\n          dataType: \"json\",\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n          },\r\n          success: function(data) {\r\n            layer.closeAll();\r\n            \r\n            if (data.IsSucceed) {\r\n              layer.msg(\"删除营业网点成功!\", { icon: 6 });\r\n              table.reload(\"LAY-yingyewangdianTable\");\r\n              \r\n            } else {\r\n              table.reload(\"LAY-yingyewangdianTable\");\r\n              layer.msg(\"删除失败: \" + data.Errors[0].Message, { icon: 5 });\r\n            }\r\n          },\r\n          error: function(err) {\r\n            layer.closeAll();\r\n            layer.msg(\"数据操作失败\", { icon: 5 });\r\n          }\r\n        });\r\n      },\r\n      detail: function(data) {\r\n        layer.load(0, { shade: false,time: 10*1000 });\r\n        var dataBean = layui.consts.basePostData();\r\n        var str1 = JSON.stringify(dataBean);\r\n        $.ajax({\r\n          type: \"get\",\r\n          url:\r\n            layui.setter.revenueUrl + \"/api/BusinessHall/query/key?Data.Id=\"+para.Me.Id+\"&Method=key\",\r\n\r\n          async: true,\r\n          data: str1,\r\n          dataType: \"json\",\r\n          success: function(data) {\r\n            if (data.IsSucceed) {\r\n             \r\n              layer.open({\r\n                type: 0,\r\n                title: \"营业网点详情\",\r\n                content: $(\"#lock-from\").html(),\r\n                maxmin: true,\r\n                area: [\"700px\", \"400px\"],\r\n                btn: [\"确定\"],\r\n                yes: function(index, layero) {\r\n                  layer.close(index);\r\n                  layer.closeAll('loading');\r\n                }\r\n              });\r\n            } else {\r\n              layer.msg(\"失败\" + res.Errors[0].Description, { icon: 5 });\r\n            }\r\n          },\r\n          error: function(err) {\r\n            layer.closeAll();\r\n            layer.msg(\"数据加载失败\", { icon: 5 });\r\n          }\r\n        });\r\n      },\r\n      edit: function(para) {\r\n        var dataBean = layui.consts.basePostData();\r\n        $.ajax({\r\n          type: \"get\",\r\n          url:\r\n            layui.setter.revenueUrl + \"/api/BusinessHall/query/key?Data.Id=\"+para.Me.Id+\"&Method=key\",\r\n          async: true, \r\n          success: function(data) {\r\n            if (data.IsSucceed) {\r\n              console.info(data)\r\n              var res = data.Result.Me\r\n              layer.open({\r\n                type: 1,\r\n                title: \"修改营业网点\",\r\n                content: $('#lock-from'),\r\n                maxmin: true,\r\n                area: [\"900px\", \"500px\"],\r\n                btn: [\"确定\", \"取消\"],\r\n                yes: function(index, layero) {\r\n                  var submit = $(\"#LAY-wangdian-add-submit\");\r\n                   //获取提交的字段\r\n                  //监听提交\r\n                  form.on('submit(LAY-wangdian-add-submit)', function (data) {\r\n                    var field = data.field; //获取提交的字段\r\n                  \r\n                    //提交 Ajax 成功后，静态更新表格中的数据\r\n                    var dataBean = layui.consts.basePostData();\r\n                    var date = new Date();\r\n                    dataBean.Data = field;\r\n                    dataBean.Data.Id = res.Id;\r\n                    delete(data.P1) \r\n                    delete(data.A1)\r\n                    delete(data.C1)\r\n                    dataBean.Data.LeaderName = shebeiPar.FixedUser_Name ? shebeiPar.FixedUser_Name:\"\";\r\n                    dataBean.Data.LeaderID = shebeiPar.FixedUser_Id ? shebeiPar.FixedUser_Id:\"\";\r\n                    dataBean.Method=\"update\";\r\n                    var str1 = JSON.stringify(dataBean);\r\n                    console.info(\"data\", str1)\r\n                    $.ajax({\r\n                      type: \"Put\",\r\n                      url: layui.setter.revenueUrl + \"/api/BusinessHall/update\",\r\n                      data: str1,\r\n                      async: true,\r\n                      dataType: \"json\",\r\n                      headers: {\r\n                        Accept: \"application/json\",\r\n                        \"Content-Type\": \"application/json\"\r\n                      },\r\n                      success: function(data) {\r\n                        layer.closeAll();\r\n                        \r\n                        if (data.IsSucceed) {\r\n                          layer.msg(\"修改营业网点成功!\", { icon: 6 });\r\n                          table.reload(\"LAY-yingyewangdianTable\");\r\n                          $(\"#lock-from\").find('input[type=text],select,input[type=hidden]').each(function() {\r\n                               $(this).val('');\r\n                          });\r\n                        } else {\r\n                          table.reload(\"LAY-yingyewangdianTable\");\r\n                          layer.msg(\"失败: \" + data.Errors[0].Message, { icon: 5 });\r\n                        }\r\n                      },\r\n                      error: function(err) {\r\n                        layer.closeAll();\r\n                        layer.msg(\"数据操作失败\", { icon: 5 });\r\n                      }\r\n                    });\r\n                    \r\n                    layer.close(index); //关闭弹层\r\n                  });\r\n\r\n                  submit.trigger(\"click\");\r\n                }\r\n              });\r\n              form.val(\"lock-from\", {\r\n                \"Coding\": res.Coding // \"name\": \"value\"\r\n                ,\"Name\": res.Name\r\n                ,\"CompanyCoding\": res.CompanyCoding\r\n                ,\"Addr\": res.Addr\r\n                ,\"Tels\": res.Tels\r\n                ,\"WorkTimeInfo\": res.WorkTimeInfo\r\n                ,\"LeaderID\":res.LeaderID\r\n                ,\"LeaderName\":res.LeaderName\r\n                ,\"SortNum\": res.SortNum\r\n                ,\"Description\": res.Description\r\n              })\r\n              if(para.Me.LeaderName){\r\n                assistant = common.findObjectByKeyVal(departments,\"Title\",para.Me.LeaderName)\r\n                //console.info(assistant)\r\n                position = common.findObjectByKeyVal(departments,\"Id\",assistant.ParentId)\r\n                //console.info(position)\r\n                department = common.findObjectByKeyVal(departments,\"Id\",position.ParentId)\r\n                console.info(department.Title,position.Title,assistant.Title)\r\n                $(province).html('');\r\n                $(province).append('<option selected>全部</option>');\r\n                for(var i in departments){\r\n                  $(province).append('<option  &nbsp; id='+departments[i].Id+' &nbsp; value='+departments[i].Title+'>'+departments[i].Title+'</option>');\r\n                }\r\n                $(province).find(\"option[value='\"+department.Title+\"']\").attr('selected', true); \r\n                form.render('select');\r\n                //选择职位下拉框\r\n                $(city).html('');\r\n                $(city).append('<option>全部</option>');\r\n                var cs = department.Children\r\n                if(cs){\r\n                  for(var i in cs){\r\n                    $(city).append('<option &nbsp;  id='+cs[i].Id+' &nbsp;  value='+cs[i].Title+'>'+cs[i].Title+'</option>');\r\n                  }\r\n                  $(city).find(\"option[value='\"+position.Title+\"']\").attr('selected', true); \r\n                }\r\n                form.render('select');\r\n                $(city).next().find('.layui-this').removeClass('layui-this').click();\r\n                pca.formHidden('province', data.value);\r\n                $('.pca-label-province').html(data.value);//此处可以自己修改 显示的位置, 不想显示可以直接去掉\r\n                \r\n                //选择营业员下拉框\r\n                $(area).html('');\r\n                  $(area).append('<option>全部</option>');\r\n                cs = position.Children\r\n                  if(cs){\r\n                    for(var i in cs){\r\n                      console.info(cs[i].Id)\r\n                      $(area).append('<option &nbsp; id='+cs[i].Id+' &nbsp; value='+cs[i].Title+'>'+cs[i].Title+'</option>');\r\n                    }\r\n                    $(area).find(\"option[value='\"+assistant.Title+\"']\").attr('selected', true); \r\n                  }\r\n                form.render('select');\r\n                $(area).next().find('.layui-this').removeClass('layui-this').click();\r\n                pca.formHidden('city', data.value);\r\n                $('.pca-label-city').html(data.value);\r\n              }else{\r\n                pca.init('select[name=P1]', 'select[name=C1]', 'select[name=A1]');\r\n                form.render('select');\r\n              }\r\n              console.info(para)\r\n              \r\n            } else {\r\n              layer.msg(\"失败\" + data.Errors[0].Message, { icon: 5 });\r\n            }\r\n          },\r\n          error: function(err) {\r\n            layer.closeAll();\r\n            layer.msg(\"数据加载失败\", { icon: 5 });\r\n          }\r\n        });\r\n      }\r\n    }\r\n    //事件\r\n    var active = {\r\n      batchdel: function() {\r\n        var checkStatus = table.checkStatus(\"LAY-user-manage\"),\r\n          checkData = checkStatus.data; //得到选中的数据\r\n        if (checkData.length === 0) {\r\n          return layer.msg(\"请选择数据\");\r\n        }\r\n        layer.close(index);\r\n        layer.confirm(\"确定删除吗？\", function(index) {\r\n          table.reload(\"LAY-user-manage\");\r\n          layer.msg(\"已删除\");\r\n        });\r\n      },\r\n      add: function() {\r\n        $.ajax({\r\n          type: \"Get\",\r\n          url: layui.setter.baseUrl + \"/api/Organ/treeview\", \r\n          async: true,\r\n          headers: {\r\n            Accept: \"application/json, text/javascript, */*; q=0.01\",\r\n          },\r\n          success: function(data) {\r\n            \r\n            //console.log(data);\r\n            if (data.IsSucceed) {\r\n              departments = data.Result.TreeNodes[0].Children\r\n              \r\n              pca.init('select[name=P1]', 'select[name=C1]', 'select[name=A1]');\r\n              form.render('select');\r\n              //$(\"#BusinessHall_Name\").append(\"<option value=\"+data.Id+\">\"+data.Name+\"</option>\");\r\n            } \r\n          },\r\n          error: function(err) {\r\n            \r\n            layer.msg(\"数据操作失败\", { icon: 5 });\r\n          }\r\n        });\r\n        layer.open({\r\n          type: 1,\r\n          title: \"添加营业网点\",\r\n          content: $('#lock-from'),\r\n          maxmin: true,\r\n          area: [\"900px\", \"500px\"],\r\n          btn: [\"确定\", \"取消\"],\r\n          yes: function(index, layero) {\r\n            var submit = $(\"#LAY-wangdian-add-submit\");\r\n             //获取提交的字段\r\n            //监听提交\r\n            form.on('submit(LAY-wangdian-add-submit)', function (data) {\r\n              var field = data.field;\r\n\r\n              $.ajax({\r\n                type: \"get\",\r\n                url: layui.setter.revenueUrl + \"/api/Common/GetInsertGuid\",\r\n                async: true,\r\n                dataType: \"json\",\r\n                headers: {\r\n                  Accept: \"application/json\",\r\n                  \"Content-Type\": \"application/json\"\r\n                },\r\n                success: function(data) {\r\n                   \r\n                  if (data.IsSucceed) {\r\n                    field.Idd = data.Result;\r\n                    wangdianSeverEvent.add(field);\r\n\r\n                    layer.close(index); //关闭弹层\r\n                  } else {\r\n                    \r\n                    layer.msg(\"添加网点数据失败\" + data, { icon: 5 });\r\n                  }\r\n\r\n                },\r\n                error: function(err) {\r\n                  layer.closeAll();\r\n                  layer.msg(\"数据操作失败\", { icon: 5 });\r\n                }\r\n              });\r\n            });\r\n            submit.trigger(\"click\");\r\n            \r\n          }\r\n        });\r\n      }\r\n    };\r\n\r\n    var pca = {};\r\n  \r\n    pca.keys = {};\r\n    pca.ckeys = {};\r\n    \r\n    pca.init = function(province, city, area, initprovince, initcity, initarea){//jQuery选择器, 省-市-区\r\n      if(!province || !$(province).length) return; \r\n      $(province).html('');\r\n      $(province).append('<option selected>全部</option>');\r\n      for(var i in departments){\r\n        $(province).append('<option  &nbsp; id='+departments[i].Id+' &nbsp; value='+departments[i].Title+'>'+departments[i].Title+'</option>');\r\n        pca.keys[departments[i].Title] = departments[i];\r\n      }\r\n      form.render('select');\r\n      if(!city || !$(city).length) return;\r\n      pca.formRender(city);\r\n      form.on('select(province)', function(data){\r\n        \r\n          var cs = pca.keys[data.value].Children;\r\n          $(city).html('');\r\n          $(city).append('<option>全部</option>');\r\n          if(cs){\r\n            for(var i in cs){\r\n              $(city).append('<option &nbsp;  id='+cs[i].Id+' &nbsp;  value='+cs[i].Title+'>'+cs[i].Title+'</option>');\r\n              pca.ckeys[cs[i].Title] = cs[i];\r\n            }\r\n            $(city).find('option:eq(1)').attr('selected', true);\r\n          }\r\n        form.render('select');\r\n        $(city).next().find('.layui-this').removeClass('layui-this').click();\r\n        pca.formHidden('province', data.value);\r\n        $('.pca-label-province').html(data.value);//此处可以自己修改 显示的位置, 不想显示可以直接去掉\r\n      }); \r\n      \r\n      if(!area || !$(area).length) return;\r\n      pca.formRender(area);\r\n      form.on('select(city)', function(data){\r\n          var cs = pca.ckeys[data.value];\r\n\r\n          $(area).html('');\r\n          $(area).append('<option>全部</option>');\r\n          if(cs){\r\n            cs = cs.Children;\r\n          for(var i in cs){\r\n            console.info(cs[i].Id)\r\n            $(area).append('<option &nbsp; id='+cs[i].Id+' &nbsp; value='+cs[i].Title+'>'+cs[i].Title+'</option>');\r\n          }\r\n          $(area).find('option:eq(1)').attr('selected', true);\r\n          }\r\n        form.render('select');\r\n        $(area).next().find('.layui-this').removeClass('layui-this').click();\r\n        pca.formHidden('city', data.value);\r\n        $('.pca-label-city').html(data.value);  //此处可以自己修改 显示的位置, 不想显示可以直接去掉\r\n      }); \r\n      form.on('select(area)', function(data){\r\n        //console.info($(\"#area option[selected='selected']\").attr('id'))\r\n        //console.info($(\"#area option[selected='selected']\").val())\r\n        shebeiPar.FixedUser_Name = $(\"#area option[selected='selected']\").val();\r\n        shebeiPar.FixedUser_Id = $(\"#area option[selected='selected']\").attr('id');\r\n        \r\n        pca.formHidden('area', data.value);   \r\n        $('.pca-label-area').html(data.value);  //此处可以自己修改 显示的位置, 不想显示可以直接去掉\r\n      }); \r\n    }\r\n\r\n    pca.formRender = function(obj){\r\n      $(obj).html('');\r\n      $(obj).append('<option>全部</option>');\r\n      form.render('select');\r\n    }\r\n    \r\n    pca.formHidden = function(obj, val){\r\n      if(!$('#pca-hide-'+obj).length) \r\n        $('body').append('<input id=\"pca-hide-'+obj+'\" type=\"hidden\" value=\"'+val+'\" />');\r\n      else\r\n        $('#pca-hide-'+obj).val(val);\r\n    }\r\n\r\n    $(\".layui-btn.layuiadmin-btn-useradmin\").on(\"click\", function() {\r\n      var type = $(this).data(\"type\");\r\n      active[type] ? active[type].call(this) : \"\";\r\n    });\r\n\r\n    table.on('tool()', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter=\"对应的值\"\r\n      var data = obj.data; //获得当前行数据\r\n      var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）\r\n      var tr = obj.tr; //获得当前行 tr 的DOM对象\r\n      if(layEvent === 'detail'){ //查看\r\n        \r\n        console.info(\"do detail\");\r\n        wangdianSeverEvent.detail(data)\r\n        \r\n      } else if(layEvent === 'del'){ //删除\r\n        layer.confirm('真的删除行么', function(index){\r\n          wangdianSeverEvent.delete(data); //删除对应行（tr）的DOM结构，并更新缓存\r\n          layer.close(index);\r\n          //向服务端发送删除指令\r\n        });\r\n      } else if(layEvent === 'edit'){ //编辑\r\n        //do something\r\n        console.info(data);\r\n        //同步更新缓存对应的值\r\n        \r\n        $.ajax({\r\n          type: \"Get\",\r\n          url: layui.setter.baseUrl + \"/api/Organ/treeview\", \r\n          async: true,\r\n          headers: {\r\n            Accept: \"application/json, text/javascript, */*; q=0.01\",\r\n          },\r\n          success: function(re) {\r\n            if (re.IsSucceed) {\r\n              departments = re.Result.TreeNodes[0].Children\r\n\r\n              console.info(departments)\r\n              wangdianSeverEvent.edit(data)\r\n              \r\n            } \r\n          },\r\n          error: function(err) {\r\n            \r\n            layer.msg(\"数据操作失败\", { icon: 5 });\r\n          }\r\n        });\r\n      }\r\n    });\r\n  });\r\n"]}