{"version":3,"sources":["readmeterplan/readmeterplan.js"],"names":["layui","config","base","extend","index","use","common","$","form","table","layer","option","baseUrl","setter","readmeterplanUrl","chongxinguihua","getReadMeterPlan","id","ajaxFun","then","res","appResult","isSucceeded","console","log","Result","loadErrorText","fail","err","getExport","renderTable","render","elem","url","where","Method","parseData","request","page","cols","field","title","templet","d","Me","ReadMeterPlanZTBZ","loading","limit","text","add","data","closeAll","dataBean","consts","basePostData","Data","str1","JSON","stringify"],"mappings":";EAAA,YAAAA,OACGC,QACCC,KAAM,yBAEPC,QACCC,MAAO,cAERC,KAAK,QAAS,QAAS,QAAS,UAAW,WAC1C,GAEEC,IAFMN,MAAMO,EACLP,MAAMQ,KACJR,MAAMM,QACfG,EAAQT,MAAMS,MACdC,EAAQV,MAAMU,MACZC,GACFC,QAASZ,MAAMa,OAAOC,kBAGpBC,GACFC,iBAAkB,SAAUC,GAC1BX,EAAOY,QAAQ,MAAO,uCAAyCD,EAAK,cAAe,GAAIN,GAAQQ,KAAK,SAAUC,GACtGd,EAAOe,UAAUC,YAAYF,GAC/BG,QAAQC,IAAIJ,EAAIK,QAEhBnB,EAAOe,UAAUK,cAAcN,KAGlCO,KAAK,SAAAC,GACJL,QAAQC,IAAII,MAGlBC,UAAW,SAAUZ,GACnBX,EAAOY,QAAQ,MAAO,kCAAmC,GAAIP,GAAQQ,KAAK,SAAUC,GAChFG,QAAQC,IAAIJ,GACRd,EAAOe,UAAUC,YAAYF,GAC/BG,QAAQC,IAAIJ,EAAIK,QAEhBnB,EAAOe,UAAUK,cAAcN,KAGlCO,KAAK,SAAAC,GACJL,QAAQC,IAAII,MAGlBE,YAAa,WACXrB,EAAMsB,QACJC,KAAM,iBACNf,GAAI,gBACJgB,IAAKjC,MAAMa,OAAOC,iBAAmB,+BACrCoB,OACEC,OAAU,QAEZC,UAAWpC,MAAMa,OAAOuB,UACxBC,QAASrC,MAAMa,OAAOwB,QACtBC,MAAM,EACNC,QAEMC,MAAO,oBACPC,MAAO,OACPC,QAAS,SAAUC,GAEjB,MADApB,SAAQC,IAAImB,GACLA,EAAEC,GAAGC,sBAMpBC,SAAS,EACTC,MAAO,GACPC,KAAM,iBAGVC,IAAK,SAASC,GACZxC,EAAMyC,UACN,IAAIC,GAAWpD,MAAMqD,OAAOC,cAC5BF,GAASG,KAAOL,EAChBE,EAASjB,OAAO,QAChB,IAAIqB,GAAOC,KAAKC,UAAUN,EAC1B7B,SAAQC,IAAIgC,GACZlD,EACGY,QAAQ,OAAQ,2BAA4BsC,EAAK7C,GACjDQ,KAAK,SAASC,GACTd,EAAOe,UAAUC,YAAYF,IAO/Bd,EAAOe,UAAUK,cAAcN,KAGlCO,KAAK,SAAAC,GACJL,QAAQC,IAAII,MAIpBb,GAAeC,iBAAiB,wCAChCD,EAAee","file":"../../../readmeterplan/readmeterplan.js","sourcesContent":["layui\r\n  .config({\r\n    base: \"../../../layuiadmin/\" //静态资源所在路径\r\n  })\r\n  .extend({\r\n    index: \"lib/index\" //主入口模块\r\n  })\r\n  .use([\"index\", \"table\", \"layer\", \"common\"], function () {\r\n    var $ = layui.$,\r\n      form = layui.form,\r\n      common = layui.common,\r\n      table = layui.table,\r\n      layer = layui.layer;\r\n    var option = {\r\n      baseUrl: layui.setter.readmeterplanUrl\r\n    }\r\n\r\n    var chongxinguihua = {\r\n      getReadMeterPlan: function (id) {\r\n        common.ajaxFun(\"get\", \"api/ReadMeterPlan/query/key?Data.Id=\" + id + \"&Method=key\", \"\", option).then(function (res) {\r\n            if (common.appResult.isSucceeded(res)) {\r\n              console.log(res.Result)\r\n            } else {\r\n              common.appResult.loadErrorText(res);\r\n            }\r\n          })\r\n          .fail(err => {\r\n            console.log(err);\r\n          });\r\n      },\r\n      getExport: function (id) {\r\n        common.ajaxFun(\"get\", \"/api/ReadMeterPlan/query/export\", \"\", option).then(function (res) {\r\n            console.log(res)\r\n            if (common.appResult.isSucceeded(res)) {\r\n              console.log(res.Result)\r\n            } else {\r\n              common.appResult.loadErrorText(res);\r\n            }\r\n          })\r\n          .fail(err => {\r\n            console.log(err);\r\n          });\r\n      },\r\n      renderTable: function () {\r\n        table.render({\r\n          elem: \"#ReadMeterPlan\",\r\n          id: \"ReadMeterPlan\",\r\n          url: layui.setter.readmeterplanUrl + \"api/ReadMeterPlan/query/list\", //接口\r\n          where: {\r\n            \"Method\": \"list\"\r\n          },\r\n          parseData: layui.setter.parseData,\r\n          request: layui.setter.request,\r\n          page: true,\r\n          cols: [\r\n            [{\r\n                field: \"ReadMeterPlanZTBZ\",\r\n                title: \"重新规划\",\r\n                templet: function (d) {\r\n                  console.log(d)\r\n                  return d.Me.ReadMeterPlanZTBZ;\r\n                }\r\n              },\r\n              // {title: \"操作\",fixed: 'right', align:'center', width:160,toolbar: '#LAY-dizhiTable-barOperation'}\r\n            ]\r\n          ],\r\n          loading: true,\r\n          limit: 10,\r\n          text: \"对不起，加载出现异常！\"\r\n        });\r\n      },\r\n      add: function(data) {\r\n        layer.closeAll();\r\n        var dataBean = layui.consts.basePostData();\r\n        dataBean.Data = data;\r\n        dataBean.Method=\"insert\";\r\n        var str1 = JSON.stringify(dataBean);\r\n        console.log(str1);\r\n        common\r\n          .ajaxFun(\"post\", \"api/ReadMeterPlan/insert\", str1,option)\r\n          .then(function(res) {\r\n            if (common.appResult.isSucceeded(res)) {\r\n              // table.reload(\"LAY-dizhiTable\");\r\n              // $(\"#lock-from\").find('input[type=text],select,input[type=hidden]').each(function() {\r\n              //      $(this).val('');\r\n              // });\r\n              // layer.msg(\"数据添加成功!\", { icon: 6 });\r\n            } else {\r\n              common.appResult.loadErrorText(res);\r\n            }\r\n          })\r\n          .fail(err => {\r\n            console.log(err);\r\n          });\r\n      },\r\n    }\r\n    chongxinguihua.getReadMeterPlan(\"6B863A23-46FB-4129-A1EF-F56F906A6CC6\")\r\n    chongxinguihua.renderTable()\r\n\r\n  });\r\n"]}