/** layuiAdmin.std-v1.0.0 LPPL License By http://www.layui.com/admin/ */
 ;"use strict";layui.config({base:"../../../layuiadmin/"}).extend({index:"lib/index"}).use(["index","useradmin","table","common","consts"],function(){var e=layui.$,a=layui.form,n=layui.common,t=layui.table;a.on("submit(LAY-user-front-search)",function(e){var a=e.field;t.reload("LAY-user-manage",{where:a})});var o={addUser:function(e){var a=layui.consts.basePostData();a.Data=e,console.log(e);var o=JSON.stringify(a);n.ajaxFun("post","/api/User",o).then(function(e){n.appResult.isSucceeded(e)?(layer.msg("数据添加成功!",{icon:6}),layer.closeAll(),t.reload("LAY-user-manage")):n.appResult.loadErrorText(e)}).fail(function(e){console.log(e)})},loadUserClassify:function(){n.ajaxFun("get","/api/User/groups").then(function(e){n.appResult.isSucceeded(e)?l.loadSelect(e.Result):n.appResult.loadErrorText(res)}).fail(function(e){console.log(e)})}},i={batchdel:function(){var e=t.checkStatus("LAY-user-manage"),a=e.data;return 0===a.length?layer.msg("请选择数据"):(layer.close(index),void layer.confirm("确定删除吗？",function(e){t.reload("LAY-user-manage"),layer.msg("已删除")}))},add:function(){layer.open({type:2,title:"添加用户",content:"../tpl/from/userFrom.html",maxmin:!0,area:["700px","400px"],btn:["确定","取消"],yes:function(e,a){var n=window["layui-layer-iframe"+e],t="LAY-user-front-submit",i=a.find("iframe").contents().find("#"+t);n.layui.form.on("submit("+t+")",function(a){var n=a.field;o.addUser(n),layer.close(e)}),i.trigger("click")}})}},l={loadSelect:function(n){var t="<option value=''></option>";for(var o in n)t+="<option value="+n[o].Value+">"+n[o].Text+"</option>";e("#userGroupSelect").html(t),a.render("select")}};o.loadUserClassify(),e(".layui-btn.layuiadmin-btn-useradmin").on("click",function(){var a=e(this).data("type");i[a]?i[a].call(this):""})});
//# sourceMappingURL=../src/maps/platform/userAdmin.js.map
