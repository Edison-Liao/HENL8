/** layuiAdmin.std-v1.0.0 LPPL License By http://www.layui.com/admin/ */
 ;"use strict";layui.config({base:"../../../layuiadmin/"}).extend({index:"lib/index"}).use(["index","upload","common"],function(){function o(o,e,l){var n='<svg viewBox="64 64 896 896" class="" data-icon="close" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"></path></svg>',t='<a class="alink"   class="ant-upload-list-item-name" title='+e.name+" >"+e.name+"</a>",a='<div class="img_list_box"><img  layer-src="'+l+'" src="'+l+'" alt="'+e.name+'" class="layui-upload-img">'+t+"<i class='close_btn_icon'>"+n+"<i></div>";return a}var e=layui.jquery;common=layui.common,upload=layui.upload;var l=upload.render({elem:"#test-upload-normal",url:"/upload/",before:function(o){o.preview(function(o,l,n){e("#test-upload-normal-img").attr("src",n)})},done:function(o){if(o.code>0)return layer.msg("上传失败")},error:function(){var o=e("#test-upload-demoText");o.html('<span style="color: #FF5722;">上传失败</span> <a class="layui-btn layui-btn-mini demo-reload">重试</a>'),o.find(".demo-reload").on("click",function(){l.upload()})}});e("body").on("click",".img_list_box",function(o){o.stopPropagation(),console.log("预览"),layer.photos({shade:[.7,"#000"],photos:".img_list_box",anim:0})}),e("#test-upload-more-list").on("click",".close_btn_icon",function(o){var l=this;o.stopPropagation(),common.ajaxFun("post","/api/....").then(function(o){common.appResult.isSucceeded(o)||common.appResult.loadErrorText(o)}).fail(function(o){console.log("错处啦"),e(l).parent().hide(700)}),console.log("关闭")}),upload.render({elem:"#test-upload-more",url:"/upload/",multiple:!0,before:function(l){console.log(l,"~~~"),l.preview(function(l,n,t){e("#test-upload-more-list").append(o(l,n,t))})},done:function(o){}}),upload.render({elem:"#test-upload-type1",url:"/upload/",accept:"file",done:function(o){console.log(o)}}),upload.render({elem:"#test-upload-type2",url:"/upload/",accept:"file",exts:"zip|rar|7z",done:function(o){console.log(o)}}),upload.render({elem:"#test-upload-type3",url:"/upload/",accept:"video",done:function(o){console.log(o)}}),upload.render({elem:"#test-upload-type4",url:"/upload/",accept:"audio",done:function(o){console.log(o)}}),upload.render({elem:"#test-upload-size",url:"/upload/",size:1e3,done:function(o){console.log(o)}}),upload.render({elem:".test-upload-demoMore",before:function(){layer.tips("接口地址："+this.url,this.item,{tips:1})},done:function(o,e,l){var n=this.item;console.log(n)}})});
//# sourceMappingURL=../../src/maps/tpl/tree/upload.js.map
