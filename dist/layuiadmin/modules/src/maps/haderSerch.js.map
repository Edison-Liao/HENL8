{"version":3,"sources":["haderSerch.js"],"names":["layui","define","exports","renderHeaderserch","el","op","console","log","_op","data","key","searchbtn","ops","Object","assign","render","obj","tpl","keys","renderDate","renderSelectData","selctData","title","map","item","value","text","serchButton","filterKey","a","index","$","append","form","isRenderdate","dateEl","laydate","elem","range"],"mappings":"AAOAA,MAAMC,OAAO,SAASC,GAUpB,QAASC,GAAkBC,EAAIC,GAC7B,GAAU,aAAND,EAEF,WADAE,SAAQC,IAAI,OAId,IAAMC,IAEJC,OAASC,IAAK,QAKdC,UAAW,aAEPC,EAAMC,OAAOC,UAAWN,EAAKH,GAE7BU,EAAS,SAAAC,GACb,GAAMC,GAAAA,iHAEcD,EAAIH,OAAOK,KAAKF,GAAK,IAFnC,iLAMuBH,OAAOK,KAAKF,GAAK,GANxC,kDAOkCA,EAAIH,OAAOK,KAAKF,GAAK,IAPvD,kKAYN,OAAOC,IAGHE,EAAa,SAAAH,GACjB,GAAMC,GAAAA,iHAEcD,EAAIH,OAAOK,KAAKF,GAAK,IAFnC,kLAMuBH,OAAOK,KAAKF,GAAK,GANxC,qCAOsBH,OAAOK,KAAKF,GAAK,GAPvC,mDAQkCA,EAAIH,OAAOK,KAAKF,GAAK,IARvD,mKAaN,OAAOC,IAGHG,EAAmB,SAAAC,GACvB,GAAIhB,GAAAA,4BAQJ,OAPAA,IAAAA,mCAAyCgB,EAAUC,MAAnD,WACAjB,GAAAA,0DACAA,GAAM,sBACNgB,EAAUZ,KAAKc,IAAI,SAAAC,GACjBnB,GAAAA,kBAAwBmB,EAAKC,MAA7B,KAAuCD,EAAKE,KAA5C,cAEFrB,GAAAA,yBAIIsB,EAAc,SAAAC,GAClB,GAAMC,GAAAA,6HACoFD,EADpF,uJAKN,OAAOC,GAEQjB,GAAIH,KAAKc,IAAI,SAACC,EAAMM,GACnC,GAAMb,GAAMF,EAAOS,EACnBO,GAAE3B,GAAI4B,OAAOf,IAEf,IAAIL,EAAIS,UAAW,CACjB,GAAMJ,GAAMG,EAAiBR,EAAIS,UACjCU,GAAE3B,GAAI4B,OAAOf,GACbjB,MAAMiC,KAAKlB,OAAO,UAEpB,GAAIH,EAAIsB,aAAc,CACpB,GAAMjB,GAAME,EAAWP,EAAIsB,aAC3BH,GAAE3B,GAAI4B,OAAOf,EACb,IAAMkB,GAAAA,IAAatB,OAAOK,KAAKN,EAAIsB,cAAc,EAEjDlC,OAAMoC,QAAQrB,QAASsB,KAAMF,EAAQG,MAAO,MAI9CP,EAAE3B,GAAI4B,OAAOL,EAAYf,EAAID,YAjG/B,GAAIoB,GAAI/B,MAAM+B,CACF/B,OAAMoC,OAoGlBlC,GAAQ,aAAcC","file":"../../haderSerch.js","sourcesContent":["/*\r\n * @Author: hongChuan Zhang \r\n * @Date: 2018-11-01 20:11:17 \r\n * @Last Modified by: hongChuan Zhang\r\n * @Last Modified time: 2018-11-08 10:17:38\r\n */\r\n\r\nlayui.define(function(exports) {\r\n  var $ = layui.$,\r\n    laydate = layui.laydate;\r\n  /**\r\n   * @description\r\n   * @author hongChuan Zhang\r\n   * @param {string} el\r\n   * @param {object} op =>op.data 数组对象\r\n   * @returns  html tpl\r\n   */\r\n  function renderHeaderserch(el, op) {\r\n    if (el == \"undefined\") {\r\n      console.log(\"缺少id\");\r\n      return;\r\n    }\r\n    //需要严格按照一下格式构造数据\r\n    const _op = {\r\n      // isRenderdate: { render: \"请选择日期\" },\r\n      data: [{ key: \"关键字\" }],\r\n      // selctData: {\r\n      //   title: \"请选择下拉值\",\r\n      //   data: [{ value: \"121212\", text: \"选择项目一\" }]\r\n      // },\r\n      searchbtn: \"searchbtn\"\r\n    };\r\n    const ops = Object.assign({}, _op, op);\r\n    //普通列表\r\n    const render = obj => {\r\n      const tpl = `<div class=\"layui-inline\">\r\n                        <label class=\"layui-form-label\">\r\n                        ${obj[Object.keys(obj)[0]]}\r\n                        </label>\r\n                        <div class=\"layui-input-block\">\r\n                            <input type=\"text\"\r\n                            name=${Object.keys(obj)[0]} \r\n                            placeholder=\"请输入${obj[Object.keys(obj)[0]]}\" \r\n                            autocomplete=\"off\"\r\n                            class=\"layui-input\">\r\n                        </div>\r\n                    </div>`;\r\n      return tpl;\r\n    };\r\n    //时间控件选择\r\n    const renderDate = obj => {\r\n      const tpl = `<div class=\"layui-inline\">\r\n                        <label class=\"layui-form-label\">\r\n                        ${obj[Object.keys(obj)[0]]}\r\n                        </label>\r\n                        <div class=\"layui-input-block\">\r\n                            <input type=\"text\" \r\n                            name=${Object.keys(obj)[0]}\r\n                            id='${Object.keys(obj)[0]}'\r\n                            placeholder=\"请输入${obj[Object.keys(obj)[0]]}\" \r\n                            autocomplete=\"off\" \r\n                            class=\"layui-input\">\r\n                        </div>\r\n                    </div>`;\r\n      return tpl;\r\n    };\r\n    //下拉框选择\r\n    const renderSelectData = selctData => {\r\n      var op = `<div class=\"layui-inline\">`;\r\n      op += `<label class=\"layui-form-label\">${selctData.title}</label>`;\r\n      op += `<div class=\"layui-input-block\"><select name=\"selected\">`;\r\n      op += \"<option value='' />\";\r\n      selctData.data.map(item => {\r\n        op += `<option value=\"${item.value}\">${item.text}</option>`;\r\n      });\r\n      op += `</select></div></div>`;\r\n      return op;\r\n    };\r\n    //按钮搜索\r\n    const serchButton = filterKey => {\r\n      const a = `<div class=\"layui-inline\">\r\n                    <button class=\"layui-btn layuiadmin-btn-useradmin\" lay-submit lay-filter=\"${filterKey}\">\r\n                        <i class=\"layui-icon layui-icon-search layuiadmin-button-btn\"></i>\r\n                    </button>\r\n                </div>`;\r\n      return a;\r\n    };\r\n    const mainHTML = ops.data.map((item, index) => {\r\n      const tpl = render(item);\r\n      $(el).append(tpl);\r\n    });\r\n    if (ops.selctData) {\r\n      const tpl = renderSelectData(ops.selctData);\r\n      $(el).append(tpl);\r\n      layui.form.render(\"select\");\r\n    }\r\n    if (ops.isRenderdate) {\r\n      const tpl = renderDate(ops.isRenderdate);\r\n      $(el).append(tpl);\r\n      const dateEl = `#${Object.keys(ops.isRenderdate)[0]}`;\r\n\r\n      layui.laydate.render({ elem: dateEl, range: \"~\" });\r\n    }\r\n\r\n    //添加搜索按钮\r\n    $(el).append(serchButton(ops.searchbtn));\r\n  }\r\n\r\n  //对外暴露的接口\r\n  exports(\"haderSerch\", renderHeaderserch);\r\n});\r\n"]}